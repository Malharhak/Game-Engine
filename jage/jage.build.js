define("j.GameStates",[],function(){var e={STOPPED:0,LOADING:1,LOADINGSCENE:2,RUNNING:3,PAUSED:4};return e}),function(){var e=this,t=e._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,s=i.push,a=i.slice,u=i.concat,c=o.toString,l=o.hasOwnProperty,d=i.forEach,p=i.map,f=i.reduce,h=i.reduceRight,m=i.filter,g=i.every,y=i.some,v=i.indexOf,b=i.lastIndexOf,x=Array.isArray,_=Object.keys,w=r.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.5.2";var E=C.each=C.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var o=0,r=e.length;r>o;o++)if(t.call(i,e[o],o,e)===n)return}else for(var s=C.keys(e),o=0,r=s.length;r>o;o++)if(t.call(i,e[s[o]],s[o],e)===n)return};C.map=C.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(E(e,function(e,o,r){i.push(t.call(n,e,o,r))}),i)};var j="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return i&&(t=C.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(E(e,function(e,r,s){o?n=t.call(i,n,e,r,s):(n=e,o=!0)}),!o)throw new TypeError(j);return n},C.reduceRight=C.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return i&&(t=C.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var s=C.keys(e);r=s.length}if(E(e,function(a,u,c){u=s?s[--r]:--r,o?n=t.call(i,n,e[u],u,c):(n=e[u],o=!0)}),!o)throw new TypeError(j);return n},C.find=C.detect=function(e,t,n){var i;return S(e,function(e,o,r){return t.call(n,e,o,r)?(i=e,!0):void 0}),i},C.filter=C.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(E(e,function(e,o,r){t.call(n,e,o,r)&&i.push(e)}),i)},C.reject=function(e,t,n){return C.filter(e,function(e,i,o){return!t.call(n,e,i,o)},n)},C.every=C.all=function(e,t,i){t||(t=C.identity);var o=!0;return null==e?o:g&&e.every===g?e.every(t,i):(E(e,function(e,r,s){return(o=o&&t.call(i,e,r,s))?void 0:n}),!!o)};var S=C.some=C.any=function(e,t,i){t||(t=C.identity);var o=!1;return null==e?o:y&&e.some===y?e.some(t,i):(E(e,function(e,r,s){return o||(o=t.call(i,e,r,s))?n:void 0}),!!o)};C.contains=C.include=function(e,t){return null==e?!1:v&&e.indexOf===v?-1!=e.indexOf(t):S(e,function(e){return e===t})},C.invoke=function(e,t){var n=a.call(arguments,2),i=C.isFunction(t);return C.map(e,function(e){return(i?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t,n){return C.isEmpty(t)?n?void 0:[]:C[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return E(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s>i.computed&&(i={value:e,computed:s})}),i.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return E(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s<i.computed&&(i={value:e,computed:s})}),i.value},C.shuffle=function(e){var t,n=0,i=[];return E(e,function(e){t=C.random(n++),i[n-1]=i[t],i[t]=e}),i},C.sample=function(e,t,n){return arguments.length<2||n?e[C.random(e.length-1)]:C.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var i=k(t);return C.pluck(C.map(e,function(e,t,o){return{value:e,index:t,criteria:i.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var o={},r=null==n?C.identity:k(n);return E(t,function(n,s){var a=r.call(i,n,s,t);e(o,a,n)}),o}};C.groupBy=T(function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)}),C.indexBy=T(function(e,t,n){e[t]=n}),C.countBy=T(function(e,t){C.has(e,t)?e[t]++:e[t]=1}),C.sortedIndex=function(e,t,n,i){n=null==n?C.identity:k(n);for(var o=n.call(i,t),r=0,s=e.length;s>r;){var a=r+s>>>1;n.call(i,e[a])<o?r=a+1:s=a}return r},C.toArray=function(e){return e?C.isArray(e)?a.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},C.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var A=function(e,t,n){return t&&C.every(e,C.isArray)?u.apply(n,e):(E(e,function(e){C.isArray(e)||C.isArguments(e)?t?s.apply(n,e):A(e,t,n):n.push(e)}),n)};C.flatten=function(e,t){return A(e,t,[])},C.without=function(e){return C.difference(e,a.call(arguments,1))},C.uniq=C.unique=function(e,t,n,i){C.isFunction(t)&&(i=n,n=t,t=!1);var o=n?C.map(e,n,i):e,r=[],s=[];return E(o,function(n,i){(t?i&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),r.push(e[i]))}),r},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=a.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=u.apply(i,a.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=C.pluck(arguments,""+n);return t},C.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;o>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,o+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;o>i;i++)if(e[i]===t)return i;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,r=new Array(i);i>o;)r[o++]=e,e+=n;return r};var N=function(){};C.bind=function(e,t){var n,i;if(w&&e.bind===w)return w.apply(e,a.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));N.prototype=e.prototype;var o=new N;N.prototype=null;var r=e.apply(o,n.concat(a.call(arguments)));return Object(r)===r?r:o}},C.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},C.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var i=t.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},C.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(a.call(arguments,1)))},C.throttle=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:new Date,s=null,r=e.apply(i,o)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var l=t-(c-a);return i=this,o=arguments,0>=l?(clearTimeout(s),s=null,a=c,r=e.apply(i,o)):s||n.trailing===!1||(s=setTimeout(u,l)),r}},C.debounce=function(e,t,n){var i,o,r,s,a;return function(){r=this,o=arguments,s=new Date;var u=function(){var c=new Date-s;t>c?i=setTimeout(u,t-c):(i=null,n||(a=e.apply(r,o)))},c=n&&!i;return i||(i=setTimeout(u,t)),c&&(a=e.apply(r,o)),a}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&t.push(n);return t},C.values=function(e){for(var t=C.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=e[t[o]];return i},C.pairs=function(e){for(var t=C.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=[t[o],e[t[o]]];return i},C.invert=function(e){for(var t={},n=C.keys(e),i=0,o=n.length;o>i;i++)t[e[n[i]]]=n[i];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return E(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=u.apply(i,a.call(arguments,1));return E(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=u.apply(i,a.call(arguments,1));for(var o in e)C.contains(n,o)||(t[o]=e[o]);return t},C.defaults=function(e){return E(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var o=c.call(e);if(o!=c.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var u=0,l=!0;if("[object Array]"==o){if(u=e.length,l=u==t.length)for(;u--&&(l=D(e[u],t[u],n,i)););}else{for(var d in e)if(C.has(e,d)&&(u++,!(l=C.has(t,d)&&D(e[d],t[d],n,i))))break;if(l){for(d in t)if(C.has(t,d)&&!u--)break;l=!u}}return n.pop(),i.pop(),l};C.isEqual=function(e,t){return D(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=x||function(e){return"[object Array]"==c.call(e)},C.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return l.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var i=Array(Math.max(0,e)),o=0;e>o;o++)i[o]=t.call(n,o);return i},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};L.unescape=C.invert(L.escape);var O={escape:new RegExp("["+C.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(L.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return L[e][t]})}}),C.result=function(e,t){if(null==e)return void 0;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){E(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),B.call(this,n.apply(C,e))}})};var P=0;C.uniqueId=function(e){var t=++P+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var i;n=C.defaults({},n,C.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,n,i,o,a){return s+=e.slice(r,a).replace(F,function(e){return"\\"+M[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,C);var u=function(e){return i.call(this,e,C)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},C.chain=function(e){return C(e).chain()};var B=function(e){return this._chain?C(e).chain():e};C.mixin(C),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],B.call(this,n)}}),E(["concat","join","slice"],function(e){var t=i[e];C.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t;return t||e._}}(this)),define("j.Vector2",[],function(){var e=function(e,t){"object"==typeof e?(this.x=e.x||0,this.y=e.y||0):(this.x=e||0,this.y=t||0)};return e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.scale=function(t){return new e(this.x*t,this.y*t)},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.normalize=function(){var t=this.length();return new e(this.x/t,this.y/t)},e.prototype.getProperties=function(e){var t=this;e.add(t,"x"),e.add(t,"y")},e}),define("j.Transform",["j.Vector2"],function(e){var t=function(t){this.position=new e(t.position),this.angle=t.angle||0,this.parent=t.parent||-1};return t.prototype.getProperties=function(e){var t=this;e.add(t,"angle"),e.add(t,"parent")},t}),define("j.Entity",["j.Transform"],function(e){var t=function(t){this.label=t.label||"",this.tag=t.tag||"",this._id=t._id,this.transform=new e(t.transform||{})};return t.prototype.getComponent=function(e,t){return e.getComponentValue(t,this._id)},t.prototype.getProperties=function(e){console.log(e);var t=e.addFolder("entity");console.log(t);var n=this;t.add(n,"label"),t.add(n,"tag");var i=t.addFolder("transform");this.transform.getProperties(i)},t}),define("j.componentTypes",[],function(){var e=function(){};return e.prototype.registerComponent=function(e,t){this[e]=t},new e}),define("j.systems",[],function(){var e=function(){};return e.prototype.registerSystem=function(e,t){this[e]=t},new e}),define("j.ES",["j.Entity","j.componentTypes","j.systems","underscore"],function(e,t,n){var i=function(){this.__l=""};return i.prototype.registerSystem=function(e,t){n.registerSystem(e,t);for(var i in t)"function"==typeof i&&this.addFunctionsUsed(i,e)},i.prototype.addFunctionsUsed=function(e,t){void 0!==this.functionsUsed[e]?this.functionsUsed[e]=[t]:this.functionsUsed[e].push(t)},i.prototype.registerComponent=function(e,n){t.registerComponent(e,n),this.componentData[e]={},this.componentCounters[e]=0},i.prototype.createEntity=function(t){return"object"!=typeof t&&(t={}),"number"==typeof t._id?t._id>this.entitiesCounter&&(this.entitiesCounter=t._id):t._id=this.entitiesCounter,this.entities[t._id]=new e(t),this.entitiesCounter++},i.prototype.createComponent=function(e,n){var i=new t[e](n);return"object"!=typeof n&&(n={}),"number"==typeof n._id?(i._id=n._id,n._id>this.componentCounters[e]&&(this.componentCounters[e]=n._id)):i._id=this.componentCounters[e],i._type=e,this.componentData[e][this.componentCounters[e]]=i,this.componentCounters[e]++},i.prototype.addComponentToEntity=function(e,t,n){"object"!=typeof this.entityComponents[e]&&(this.entityComponents[e]={}),void 0===this.entityComponents[e][t]?this.entityComponents[e][t]=[n]:this.entityComponents[e][t].push(n),this.componentData[t][n]._entityId=e},i.prototype.createComponentAndAddTo=function(e,t,n){var i=this.createComponent(t,n);return this.addComponentToEntity(e,t,i),i},i.prototype.hasComponent=function(e,t){return"object"==typeof this.entityComponents[e][t]?!0:!1},i.prototype.getEntityForComponent=function(e){return this.entities[e._entityId]},i.prototype.getComponentValue=function(e,t){return this.componentData[e][t]},i.prototype.getComponentForEntity=function(e,t){var n=this.entityComponents[t][e];if(1===n.length)return this.getComponentValue(e,n[0]);if(0===n.length)return!1;for(var i=[],o=0;o<n.length;o++)i.push(this.getComponentValue(e,n[o]));return i},i.prototype.getEntity=function(e){return this.entities[e]},i.prototype.findAllComponents=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=this.componentData[e[n]];return t},i.prototype.setComponent=function(e){this.componentData[e._type][e._id]=e},i.prototype.setComponents=function(e){for(var t=0;t<e.length;t++)this.setComponent(e[t])},i.prototype.getEntitiesForComponents=function(e){var t=[];for(var n in this.entityComponents){for(var i=!0,o=0;o<e.length;o++)if(!this.entityComponents[n].hasOwnProperty(e[o])){i=!1;break}i&&t.push(this.entities[n])}return t},i.prototype.getEntityWithComponents=function(e){var t={};t.entity=this.entities[e];for(var n in this.entityComponents[e])t[n]=this.componentData[n][this.entityComponents[e][n][0]];return t},i.prototype.getEntitiesWithComponents=function(e){var t={};for(var n in this.entityComponents){for(var i=!0,o=0;o<e.length;o++)if(!this.entityComponents[n].hasOwnProperty(e[o])){i=!1;break}if(i){t[n]={},t[n].entity=this.entities[n];for(var r=0;r<e.length;r++){var s=e[r];t[n][s]=this.getComponentForEntity(s,this.entities[n]._id)}}}return t},i}),function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=jt[e]={};return lt.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function o(e,n,i,o){if(lt.acceptData(e)){var r,s,a=lt.expando,u=e.nodeType,c=u?lt.cache:e,l=u?e[a]:e[a]&&a;if(l&&c[l]&&(o||c[l].data)||i!==t||"string"!=typeof n)return l||(l=u?e[a]=tt.pop()||lt.guid++:a),c[l]||(c[l]=u?{}:{toJSON:lt.noop}),("object"==typeof n||"function"==typeof n)&&(o?c[l]=lt.extend(c[l],n):c[l].data=lt.extend(c[l].data,n)),s=c[l],o||(s.data||(s.data={}),s=s.data),i!==t&&(s[lt.camelCase(n)]=i),"string"==typeof n?(r=s[n],null==r&&(r=s[lt.camelCase(n)])):r=s,r}}function r(e,t,n){if(lt.acceptData(e)){var i,o,r=e.nodeType,s=r?lt.cache:e,u=r?e[lt.expando]:lt.expando;if(s[u]){if(t&&(i=n?s[u]:s[u].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in i?t=[t]:(t=lt.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!a(i):!lt.isEmptyObject(i))return}(n||(delete s[u].data,a(s[u])))&&(r?lt.cleanData([e],!0):lt.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(kt,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?lt.parseJSON(i):i}catch(r){}lt.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(){return!0}function c(){return!1}function l(){try{return J.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(lt.isFunction(t))return lt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return lt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(qt.test(t))return lt.filter(t,e,n);t=lt.filter(t,e)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0!==n})}function f(e){var t=Gt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return lt.nodeName(e,"table")&&lt.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==lt.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,o,r=lt._data(e),s=lt._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)lt.event.add(t,n,a[n][i])}s.data&&(s.data=lt.extend({},s.data))}}function b(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){o=lt._data(t);for(i in o.events)lt.removeEvent(t,i,o.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,n){var i,o,r=0,s=typeof e.getElementsByTagName!==$?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==$?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(o=i[r]);r++)!n||lt.nodeName(o,n)?s.push(o):lt.merge(s,x(o,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],s):s}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=jn.length;o--;)if(t=jn[o]+n,t in e)return t;return i}function C(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function E(e,t){for(var n,i,o,r=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(r[s]=lt._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(r[s]=lt._data(i,"olddisplay",T(i.nodeName)))):r[s]||(o=C(i),(n&&"none"!==n||!o)&&lt._data(i,"olddisplay",o?n:lt.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function j(e,t,n){var i=vn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=lt.css(e,n+En[r],!0,o)),i?("content"===n&&(s-=lt.css(e,"padding"+En[r],!0,o)),"margin"!==n&&(s-=lt.css(e,"border"+En[r]+"Width",!0,o))):(s+=lt.css(e,"padding"+En[r],!0,o),"padding"!==n&&(s+=lt.css(e,"border"+En[r]+"Width",!0,o)));return s}function k(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=dn(e),s=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=pn(e,t,r),(0>o||null==o)&&(o=e.style[t]),bn.test(o))return o;i=s&&(lt.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+S(e,t,n||(s?"border":"content"),i,r)+"px"}function T(e){var t=J,n=_n[e];return n||(n=A(e,t),"none"!==n&&n||(ln=(ln||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ln[0].contentWindow||ln[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=A(e,t),ln.detach()),_n[e]=n),n}function A(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function N(e,t,n,i){var o;if(lt.isArray(t))lt.each(t,function(t,o){n||kn.test(e)?i(e,o):N(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(o in t)N(e+"["+o+"]",t[o],n,i)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(pt)||[];if(lt.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function L(e,n,i,o){function r(u){var c;return s[u]=!0,lt.each(e[u]||[],function(e,u){var l=u(n,i,o);return"string"!=typeof l||a||s[l]?a?!(c=l):t:(n.dataTypes.unshift(l),r(l),!1)}),c}var s={},a=e===Wn;return r(n.dataTypes[0])||!s["*"]&&r("*")}function O(e,n){var i,o,r=lt.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((r[o]?e:i||(i={}))[o]=n[o]);return i&&lt.extend(!0,e,i),e}function P(e,n,i){for(var o,r,s,a,u=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(a in u)if(u[a]&&u[a].test(r)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),i[s]):t}function R(e,t,n,i){var o,r,s,a,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=l.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=r,r=l.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(s=c[u+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+r}}}return{state:"success",data:t}}function M(){try{return new e.XMLHttpRequest}catch(t){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function B(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function H(e,t,n){for(var i,o=(ri[t]||[]).concat(ri["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,t,e))return i}function I(e,t,n){var i,o,r=0,s=oi.length,a=lt.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=Zn||B(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),1>r&&u?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||B(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),l=c.props;for(z(l,c.opts.specialEasing);s>r;r++)if(i=oi[r].call(c,e,l,c.opts))return i;return lt.map(l,H,c),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e,t){var n,i,o,r,s;for(n in e)if(i=lt.camelCase(n),o=t[i],r=e[n],lt.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=lt.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function q(e,t,n){var i,o,r,s,a,u,c=this,l={},d=e.style,p=e.nodeType&&C(e),f=lt._data(e,"fxshow");n.queue||(a=lt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,lt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",lt.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],ti.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(p?"hide":"show"))continue;l[i]=f&&f[i]||lt.style(e,i)}if(!lt.isEmptyObject(l)){f?"hidden"in f&&(p=f.hidden):f=lt._data(e,"fxshow",{}),r&&(f.hidden=!p),p?lt(e).show():c.done(function(){lt(e).hide()}),c.done(function(){var t;lt._removeData(e,"fxshow");for(t in l)lt.style(e,t,l[t])});for(i in l)s=H(p?f[i]:0,i,c),i in f||(f[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function V(e,t,n,i,o){return new V.prototype.init(e,t,n,i,o)}function W(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=En[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G,X,$=typeof t,K=e.location,J=e.document,Y=J.documentElement,Q=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,ot=tt.push,rt=tt.slice,st=tt.indexOf,at=et.toString,ut=et.hasOwnProperty,ct=nt.trim,lt=function(e,t){return new lt.fn.init(e,t,X)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,yt=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xt=/^-ms-/,_t=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},Ct=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(Et(),lt.ready())},Et=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(J.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};lt.fn=lt.prototype={jquery:nt,constructor:lt,init:function(e,n,i){var o,r;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),mt.test(o[1])&&lt.isPlainObject(n))for(o in n)lt.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(r=J.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(e);this.length=1,this[0]=r}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)
},push:ot,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,o,r,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||lt.isFunction(a)||(a={}),c===u&&(a=this,--u);c>u;u++)if(null!=(r=arguments[u]))for(o in r)e=a[o],i=r[o],a!==i&&(l&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,s=e&&lt.isArray(e)?e:[]):s=e&&lt.isPlainObject(e)?e:{},a[o]=lt.extend(l,s,i)):i!==t&&(a[o]=i));return a},lt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===lt&&(e.$=Z),t&&e.jQuery===lt&&(e.jQuery=Q),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!J.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(G.resolveWith(J,[lt]),lt.fn.trigger&&lt(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!ut.call(e,"constructor")&&!ut.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(lt.support.ownLast)for(n in e)return ut.call(e,n);for(n in e);return n===t||ut.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=mt.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,o),o&&lt(o).remove(),lt.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=lt.trim(n),n&&gt.test(n.replace(vt,"@").replace(bt,"]").replace(yt,"")))?Function("return "+n)():(lt.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(xt,"ms-").replace(_t,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,s=e.length,a=n(e);if(i){if(a)for(;s>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(a)for(;s>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(ft,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):ot.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,o=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[o++]=n[r];else for(;n[r]!==t;)e[o++]=n[r++];return e.length=o,e},grep:function(e,t,n){var i,o=[],r=0,s=e.length;for(n=!!n;s>r;r++)i=!!t(e[r],r),n!==i&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,s=e.length,a=n(e),u=[];if(a)for(;s>r;r++)o=t(e[r],r,i),null!=o&&(u[u.length]=o);else for(r in e)o=t(e[r],r,i),null!=o&&(u[u.length]=o);return it.apply([],u)},guid:1,proxy:function(e,n){var i,o,r;return"string"==typeof n&&(r=e[n],n=e,e=r),lt.isFunction(e)?(i=rt.call(arguments,2),o=function(){return e.apply(n||this,i.concat(rt.call(arguments)))},o.guid=e.guid=e.guid||lt.guid++,o):t},access:function(e,n,i,o,r,s,a){var u=0,c=e.length,l=null==i;if("object"===lt.type(i)){r=!0;for(u in i)lt.access(e,n,u,i[u],!0,s,a)}else if(o!==t&&(r=!0,lt.isFunction(o)||(a=!0),l&&(a?(n.call(e,o),n=null):(l=n,n=function(e,t,n){return l.call(lt(e),n)})),n))for(;c>u;u++)n(e[u],i,a?o:o.call(e[u],u,n(e[u],i)));return r?e:l?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o}}),lt.ready.promise=function(t){if(!G)if(G=lt.Deferred(),"complete"===J.readyState)setTimeout(lt.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{J.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&function o(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}Et(),lt.ready()}}()}return G.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),X=lt(J),function(e,t){function n(e,t,n,i){var o,r,s,a,u,c,l,d,h,m;if((t?t.ownerDocument||t:I)!==L&&D(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(P&&!i){if(o=bt.exec(e))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&B(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&C.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!R||!R.test(e))){if(d=l=H,h=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(l=t.getAttribute("id"))?d=l.replace(wt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+f(c[u]);h=ft.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{l||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>j.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function o(e){return e[H]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)j.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return o(function(t){return t=+t,o(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(){}function p(e,t){var i,o,r,s,a,u,c,l=W[e+" "];if(l)return t?0:l.slice(0);for(a=e,u=[],c=j.preFilter;a;){(!i||(o=dt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),u.push(r=[])),i=!1,(o=pt.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ct," ")}),a=a.slice(i.length));for(s in j.filter)!(o=yt[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):W(e,u).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=q++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,u,c,l=z+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=t[H]||(t[H]={}),(u=c[i])&&u[0]===l){if((a=u[1])===!0||a===E)return a===!0}else if(u=c[i]=[l],u[1]=e(t,n,s)||E,u[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,o){for(var r,s=[],a=0,u=e.length,c=null!=t;u>a;a++)(r=e[a])&&(!n||n(r,i,o))&&(s.push(r),c&&t.push(a));return s}function y(e,t,n,i,r,s){return i&&!i[H]&&(i=y(i)),r&&!r[H]&&(r=y(r,s)),o(function(o,s,a,u){var c,l,d,p=[],f=[],h=s.length,m=o||x(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?m:g(m,p,e,a,u),v=n?r||(o?e:h||i)?[]:s:y;if(n&&n(y,v,a,u),i)for(c=g(v,f),i(c,[],a,u),l=c.length;l--;)(d=c[l])&&(v[f[l]]=!(y[f[l]]=d));if(o){if(r||e){if(r){for(c=[],l=v.length;l--;)(d=v[l])&&c.push(y[l]=d);r(null,v=[],c,u)}for(l=v.length;l--;)(d=v[l])&&(c=r?nt.call(o,d):p[l])>-1&&(o[c]=!(s[c]=d))}}else v=g(v===s?v.splice(h,v.length):v),r?r(null,s,v,u):et.apply(s,v)})}function v(e){for(var t,n,i,o=e.length,r=j.relative[e[0].type],s=r||j.relative[" "],a=r?1:0,u=h(function(e){return e===t},s,!0),c=h(function(e){return nt.call(t,e)>-1},s,!0),l=[function(e,n,i){return!r&&(i||n!==A)||((t=n).nodeType?u(e,n,i):c(e,n,i))}];o>a;a++)if(n=j.relative[e[a].type])l=[h(m(l),n)];else{if(n=j.filter[e[a].type].apply(null,e[a].matches),n[H]){for(i=++a;o>i&&!j.relative[e[i].type];i++);return y(a>1&&m(l),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ct,"$1"),n,i>a&&v(e.slice(a,i)),o>i&&v(e=e.slice(i)),o>i&&f(e))}l.push(n)}return m(l)}function b(e,t){var i=0,r=t.length>0,s=e.length>0,a=function(o,a,u,c,l){var d,p,f,h=[],m=0,y="0",v=o&&[],b=null!=l,x=A,_=o||s&&j.find.TAG("*",l&&a.parentNode||a),w=z+=null==x?1:Math.random()||.1;for(b&&(A=a!==L&&a,E=i);null!=(d=_[y]);y++){if(s&&d){for(p=0;f=e[p++];)if(f(d,a,u)){c.push(d);break}b&&(z=w,E=++i)}r&&((d=!f&&d)&&m--,o&&v.push(d))}if(m+=y,r&&y!==m){for(p=0;f=t[p++];)f(v,h,a,u);if(o){if(m>0)for(;y--;)v[y]||h[y]||(h[y]=Q.call(c));h=g(h)}et.apply(c,h),b&&!o&&h.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&(z=w,A=x),v};return r?o(a):a}function x(e,t,i){for(var o=0,r=t.length;r>o;o++)n(e,t[o],i);return i}function _(e,t,n,i){var o,r,s,a,u,c=p(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&C.getById&&9===t.nodeType&&P&&j.relative[r[1].type]){if(t=(j.find.ID(s.matches[0].replace(Ct,Et),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(o=yt.needsContext.test(e)?0:r.length;o--&&(s=r[o],!j.relative[a=s.type]);)if((u=j.find[a])&&(i=u(s.matches[0].replace(Ct,Et),ft.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),e=i.length&&f(r),!e)return et.apply(n,i),n;break}}return T(e,c)(i,t,!P,n,ft.test(e)),n}var w,C,E,j,S,k,T,A,N,D,L,O,P,R,M,F,B,H="sizzle"+-new Date,I=e.document,z=0,q=0,V=i(),W=i(),U=i(),G=!1,X=function(e,t){return e===t?(G=!0,0):0},$=typeof t,K=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,Z=Y.push,et=Y.push,tt=Y.slice,nt=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),at="\\["+ot+"*("+rt+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+ot+"*\\]",ut=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),dt=RegExp("^"+ot+"*,"+ot+"*"),pt=RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),ft=RegExp(ot+"*[+~]"),ht=RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),mt=RegExp(ut),gt=RegExp("^"+st+"$"),yt={ID:RegExp("^#("+rt+")"),CLASS:RegExp("^\\.("+rt+")"),TAG:RegExp("^("+rt.replace("w","w*")+")"),ATTR:RegExp("^"+at),PSEUDO:RegExp("^"+ut),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:RegExp("^(?:"+it+")$","i"),needsContext:RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,wt=/'|\\/g,Ct=RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),Et=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{et.apply(Y=tt.call(I.childNodes),I.childNodes),Y[I.childNodes.length].nodeType}catch(jt){et={apply:Y.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=n.support={},D=n.setDocument=function(e){var n=e?e.ownerDocument||e:I,i=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,O=n.documentElement,P=!k(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){D()}),C.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=r(function(e){return O.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),C.getById?(j.find.ID=function(e,t){if(typeof t.getElementById!==$&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},j.filter.ID=function(e){var t=e.replace(Ct,Et);return function(e){return e.getAttribute("id")===t}}):(delete j.find.ID,j.filter.ID=function(e){var t=e.replace(Ct,Et);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),j.find.TAG=C.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==$?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},j.find.CLASS=C.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==$&&P?n.getElementsByClassName(e):t},M=[],R=[],(C.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||R.push("\\["+ot+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||R.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&R.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(C.matchesSelector=vt.test(F=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){C.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),M.push("!=",ut)}),R=R.length&&RegExp(R.join("|")),M=M.length&&RegExp(M.join("|")),B=vt.test(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=O.compareDocumentPosition?function(e,t){if(e===t)return G=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!C.sortDetached&&t.compareDocumentPosition(e)===i?e===n||B(I,e)?-1:t===n||B(I,t)?1:N?nt.call(N,e)-nt.call(N,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,o=0,r=e.parentNode,s=t.parentNode,u=[e],c=[t];if(e===t)return G=!0,0;if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:N?nt.call(N,e)-nt.call(N,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)u.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;u[o]===c[o];)o++;return o?a(u[o],c[o]):u[o]===I?-1:c[o]===I?1:0},n):L},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&D(e),t=t.replace(ht,"='$1']"),!(!C.matchesSelector||!P||M&&M.test(t)||R&&R.test(t)))try{var i=F.call(e,t);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return n(t,L,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==L&&D(e),B(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==L&&D(e);var i=j.attrHandle[n.toLowerCase()],o=i&&J.call(j.attrHandle,n.toLowerCase())?i(e,n,!P):t;return o===t?C.attributes||!P?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,o=0;if(G=!C.detectDuplicates,N=!C.sortStable&&e.slice(0),e.sort(X),G){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},S=n.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=S(t);return n},j=n.selectors={cacheLength:50,createPseudo:o,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,Et),e[3]=(e[4]||e[5]||"").replace(Ct,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return yt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&mt.test(i)&&(n=p(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,Et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(o){var r=n.attr(o,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,p,f,h,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!u&&!a;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?g.firstChild:g.lastChild],s&&v){for(l=g[H]||(g[H]={}),c=l[e]||[],f=c[0]===z&&c[1],p=c[0]===z&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){l[e]=[z,f,p];break}}else if(v&&(c=(t[H]||(t[H]={}))[e])&&c[0]===z)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++p||(v&&((d[H]||(d[H]={}))[e]=[z,p]),d!==t)););return p-=o,p===i||0===p%i&&p/i>=0}}},PSEUDO:function(e,t){var i,r=j.pseudos[e]||j.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[H]?r(t):r.length>1?(i=[e,e,"",t],j.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=nt.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=T(e.replace(ct,"$1"));return i[H]?o(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:o(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ct,Et).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!j.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},j.pseudos.nth=j.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[w]=u(w);for(w in{submit:!0,reset:!0})j.pseudos[w]=c(w);d.prototype=j.filters=j.pseudos,j.setFilters=new d,T=n.compile=function(e,t){var n,i=[],o=[],r=U[e+" "];if(!r){for(t||(t=p(e)),n=t.length;n--;)r=v(t[n]),r[H]?i.push(r):o.push(r);r=U(e,b(o,i))}return r},C.sortStable=H.split("").sort(X).join("")===H,C.detectDuplicates=G,D(),C.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,n,i){return i?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),C.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,n,i){return i||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,n,i){var o;return i?t:(o=e.getAttributeNode(n))&&o.specified?o.value:e[n]===!0?n.toLowerCase():null}),lt.find=n,lt.expr=n.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=n.uniqueSort,lt.text=n.getText,lt.isXMLDoc=n.isXML,lt.contains=n.contains}(e);var jt={};lt.Callbacks=function(e){e="string"==typeof e?jt[e]||i(e):lt.extend({},e);var n,o,r,s,a,u,c=[],l=!e.once&&[],d=function(t){for(o=e.memory&&t,r=!0,a=u||0,u=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(l?l.length&&d(l.shift()):o?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function i(t){lt.each(t,function(t,n){var o=lt.type(n);"function"===o?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),n?s=c.length:o&&(u=t,d(o))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=o=t,this},disabled:function(){return!c},lock:function(){return l=t,o||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||r&&!l||(t=t||[],t=[e,t.slice?t.slice():t],n?l.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,r){var s=r[0],a=lt.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},o={};return i.pipe=i.then,lt.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=rt.call(arguments),s=r.length,a=1!==s||e&&lt.isFunction(e.promise)?s:0,u=1===a?e:lt.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?rt.call(arguments):o,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(t=Array(s),n=Array(s),i=Array(s);s>o;o++)r[o]&&lt.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(u.reject).progress(c(o,n,t)):--a;return a||u.resolveWith(i,r),u.promise()}}),lt.support=function(t){var n,i,o,r,s,a,u,c,l,d=J.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;r=J.createElement("select"),a=r.appendChild(J.createElement("option")),o=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!J.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}o=J.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),s=J.createDocumentFragment(),s.appendChild(o),t.appendChecked=o.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})d.setAttribute(u="on"+l,"t"),t[l+"Bubbles"]=u in e||d.attributes[u].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(l in lt(t))break;return t.ownLast="0"!==l,lt(function(){var n,i,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=J.getElementsByTagName("body")[0];s&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",lt.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(J.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==$&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=o=i=null)}),n=r=s=a=i=o=null,t}({});var St=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,kt=/([A-Z])/g;lt.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!a(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,o,r=null,a=0,u=this[0];if(e===t){if(this.length&&(r=lt.data(u),1===u.nodeType&&!lt._data(u,"parsedAttrs"))){for(i=u.attributes;i.length>a;a++)o=i[a].name,0===o.indexOf("data-")&&(o=lt.camelCase(o.slice(5)),s(u,o,r[o]));lt._data(u,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){lt.data(this,e)}):arguments.length>1?this.each(function(){lt.data(this,e,n)}):u?s(u,e,lt.data(u,e)):null},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,n,i){var o;return e?(n=(n||"fx")+"queue",o=lt._data(e,n),i&&(!o||lt.isArray(i)?o=lt._data(e,n,lt.makeArray(i)):o.push(i)),o||[]):t},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,o=n.shift(),r=lt._queueHooks(e,t),s=function(){lt.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,o=1,r=lt.Deferred(),s=this,a=this.length,u=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=lt._data(s[a],e+"queueHooks"),i&&i.empty&&(o++,i.empty.add(u));return u(),r.promise(n)}});var Tt,At,Nt=/[\t\r\n\f]/g,Dt=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i,Pt=/^(?:checked|selected)$/i,Rt=lt.support.getSetAttribute,Mt=lt.support.input;
lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,r,s=0,a=this.length,u="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(pt)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):" ")){for(r=0;o=t[r++];)0>i.indexOf(" "+o+" ")&&(i+=o+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,o,r,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(pt)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,o=lt(this),r=e.match(pt)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===$||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Nt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,o,r=this[0];return arguments.length?(o=lt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=o?e.call(this,n,lt(this).val()):e,null==r?r="":"number"==typeof r?r+="":lt.isArray(r)&&(r=lt.map(r,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))})):r?(i=lt.valHooks[r.type]||lt.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)):void 0}}),lt.extend({valHooks:{option:{get:function(e){var t=lt.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:i.length,u=0>o?a:r?o:0;a>u;u++)if(n=i[u],!(!n.selected&&u!==o||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=lt.makeArray(t),s=o.length;s--;)i=o[s],(i.selected=lt.inArray(lt(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var o,r,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?typeof e.getAttribute===$?lt.prop(e,n,i):(1===s&&lt.isXMLDoc(e)||(n=n.toLowerCase(),o=lt.attrHooks[n]||(lt.expr.match.bool.test(n)?At:Tt)),i===t?o&&"get"in o&&null!==(r=o.get(e,n))?r:(r=lt.find.attr(e,n),null==r?t:r):null!==i?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),t)):void 0},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(pt);if(r&&1===e.nodeType)for(;n=r[o++];)i=lt.propFix[n]||n,lt.expr.match.bool.test(n)?Mt&&Rt||!Pt.test(n)?e[i]=!1:e[lt.camelCase("default-"+n)]=e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Rt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var o,r,s,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(s=1!==a||!lt.isXMLDoc(e),s&&(n=lt.propFix[n]||n,r=lt.propHooks[n]),i!==t?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:e[n]=i:r&&"get"in r&&null!==(o=r.get(e,n))?o:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var t=lt.find.attr(e,"tabindex");return t?parseInt(t,10):Lt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}}}),At={set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Mt&&Rt||!Pt.test(n)?e.setAttribute(!Rt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},lt.each(lt.expr.match.bool.source.match(/\w+/g),function(e,n){var i=lt.expr.attrHandle[n]||lt.find.attr;lt.expr.attrHandle[n]=Mt&&Rt||!Pt.test(n)?function(e,n,o){var r=lt.expr.attrHandle[n],s=o?t:(lt.expr.attrHandle[n]=t)!=i(e,n,o)?n.toLowerCase():null;return lt.expr.attrHandle[n]=r,s}:function(e,n,i){return i?t:e[lt.camelCase("default-"+n)]?n.toLowerCase():null}}),Mt&&Rt||(lt.attrHooks.value={set:function(e,n,i){return lt.nodeName(e,"input")?(e.defaultValue=n,t):Tt&&Tt.set(e,n,i)}}),Rt||(Tt={set:function(e,n,i){var o=e.getAttributeNode(i);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(i)),o.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.expr.attrHandle.id=lt.expr.attrHandle.name=lt.expr.attrHandle.coords=function(e,n,i){var o;return i?t:(o=e.getAttributeNode(n))&&""!==o.value?o.value:null},lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:Tt.set},lt.attrHooks.contenteditable={set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,n){lt.attrHooks[n]={set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}}})),lt.support.hrefNormalized||lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),lt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lt.propFix[this.toLowerCase()]=this}),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.each(["radio","checkbox"],function(){lt.valHooks[this]={set:function(e,n){return lt.isArray(n)?e.checked=lt.inArray(lt(e).val(),n)>=0:t}},lt.support.checkOn||(lt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ft=/^(?:input|select|textarea)$/i,Bt=/^key/,Ht=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,o,r){var s,a,u,c,l,d,p,f,h,m,g,y=lt._data(e);if(y){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=lt.guid++),(a=y.events)||(a=y.events={}),(d=y.handle)||(d=y.handle=function(e){return typeof lt===$||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(pt)||[""],u=n.length;u--;)s=zt.exec(n[u])||[],h=g=s[1],m=(s[2]||"").split(".").sort(),h&&(l=lt.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=lt.event.special[h]||{},p=lt.extend({type:h,origType:g,data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&lt.expr.match.needsContext.test(r),namespace:m.join(".")},c),(f=a[h])||(f=a[h]=[],f.delegateCount=0,l.setup&&l.setup.call(e,o,m,d)!==!1||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),l.add&&(l.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,p):f.push(p),lt.event.global[h]=!0);e=null}},remove:function(e,t,n,i,o){var r,s,a,u,c,l,d,p,f,h,m,g=lt.hasData(e)&&lt._data(e);if(g&&(l=g.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(a=zt.exec(t[c])||[],f=m=a[1],h=(a[2]||"").split(".").sort(),f){for(d=lt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=l[f]||[],a=a[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=r=p.length;r--;)s=p[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(p.splice(r,1),s.selector&&p.delegateCount--,d.remove&&d.remove.call(e,s));u&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||lt.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)lt.event.remove(e,f+t[c],n,i,!0);lt.isEmptyObject(l)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,o,r){var s,a,u,c,l,d,p,f=[o||J],h=ut.call(n,"type")?n.type:n,m=ut.call(n,"namespace")?n.namespace.split("."):[];if(u=d=o=o||J,3!==o.nodeType&&8!==o.nodeType&&!It.test(h+lt.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),a=0>h.indexOf(":")&&"on"+h,n=n[lt.expando]?n:new lt.Event(h,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),i=null==i?[n]:lt.makeArray(i,[n]),l=lt.event.special[h]||{},r||!l.trigger||l.trigger.apply(o,i)!==!1)){if(!r&&!l.noBubble&&!lt.isWindow(o)){for(c=l.delegateType||h,It.test(c+h)||(u=u.parentNode);u;u=u.parentNode)f.push(u),d=u;d===(o.ownerDocument||J)&&f.push(d.defaultView||d.parentWindow||e)}for(p=0;(u=f[p++])&&!n.isPropagationStopped();)n.type=p>1?c:l.bindType||h,s=(lt._data(u,"events")||{})[n.type]&&lt._data(u,"handle"),s&&s.apply(u,i),s=a&&u[a],s&&lt.acceptData(u)&&s.apply&&s.apply(u,i)===!1&&n.preventDefault();if(n.type=h,!r&&!n.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),i)===!1)&&lt.acceptData(o)&&a&&o[h]&&!lt.isWindow(o)){d=o[a],d&&(o[a]=null),lt.event.triggered=h;try{o[h]()}catch(g){}lt.event.triggered=t,d&&(o[a]=d)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,o,r,s,a=[],u=rt.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],l=lt.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=lt.event.handlers.call(this,e,c),n=0;(r=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(o=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((lt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,o,r,s,a=[],u=n.delegateCount,c=e.target;if(u&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],s=0;u>s;s++)o=n[s],i=o.selector+" ",r[i]===t&&(r[i]=o.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return n.length>u&&a.push({elem:this,handlers:n.slice(u)}),a},fix:function(e){if(e[lt.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ht.test(o)?this.mouseHooks:Bt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new lt.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,r,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||J,r=o.documentElement,i=o.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return lt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(o,null,t):lt.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===$&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,n){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?u:c):this.type=e,n&&lt.extend(this,n),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,t):new lt.Event(e,n)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!lt.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),t)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ft.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ft.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return lt.event.remove(this,"._change"),!Ft.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,i,!0)},teardown:function(){0===--n&&J.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,o,r){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],r);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===r&&(a=o,o=function(e){return lt().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,lt(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?lt.event.trigger(e,n,i,!0):t}});var qt=/^.[^:#\[\.,]*$/,Vt=/^(?:parents|prev(?:Until|All))/,Wt=lt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(lt(e).filter(function(){for(t=0;o>t;t++)if(lt.contains(i[t],this))return!0}));for(t=0;o>t;t++)lt.find(e,i[t],n);return n=this.pushStack(o>1?lt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&Wt.test(e)?lt(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=Wt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&lt.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?lt.unique(r):r)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var o=lt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=lt.filter(i,o)),this.length>1&&(Ut[e]||(o=lt.unique(o)),Vt.test(e)&&(o=o.reverse())),this.pushStack(o)}}),lt.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?lt.find.matchesSelector(i,e)?[i]:[]:lt.find.matches(e,lt.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var o=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!lt(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Gt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xt=/ jQuery\d+="(?:null|\d+)"/g,$t=RegExp("<(?:"+Gt+")[\\s/>]","i"),Kt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},un=f(J),cn=un.appendChild(J.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?lt.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||lt.cleanData(x(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&y(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Xt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&$t.test(e)||!lt.support.leadingWhitespace&&Kt.test(e)||an[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(x(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=lt.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],o=e[t++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),lt(this).remove(),o.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,o,r,s,a,u,c=0,l=this.length,d=this,p=l-1,f=e[0],h=lt.isFunction(f);if(h||!(1>=l||"string"!=typeof f||lt.support.checkClone)&&nn.test(f))return this.each(function(i){var o=d.eq(i);h&&(e[0]=f.call(this,i,o.html())),o.domManip(e,t,n)});if(l&&(u=lt.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=u.firstChild,1===u.childNodes.length&&(u=i),i)){for(s=lt.map(x(u,"script"),m),r=s.length;l>c;c++)o=u,c!==p&&(o=lt.clone(o,!0,!0),r&&lt.merge(s,x(o,"script"))),t.call(this[c],o,c);if(r)for(a=s[s.length-1].ownerDocument,lt.map(s,g),c=0;r>c;c++)o=s[c],on.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(a,o)&&(o.src?lt._evalUrl(o.src):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));u=i=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,o=[],r=lt(e),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),lt(r[i])[t](n),ot.apply(o,n.get());return this.pushStack(o)}}),lt.extend({clone:function(e,t,n){var i,o,r,s,a,u=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!$t.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(r=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=x(r),a=x(e),s=0;null!=(o=a[s]);++s)i[s]&&b(o,i[s]);if(t)if(n)for(a=a||x(e),i=i||x(r),s=0;null!=(o=a[s]);s++)v(o,i[s]);else v(e,r);return i=x(r,"script"),i.length>0&&y(i,!u&&x(e,"script")),i=a=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,s,a,u,c,l,d=e.length,p=f(t),h=[],m=0;d>m;m++)if(r=e[m],r||0===r)if("object"===lt.type(r))lt.merge(h,r.nodeType?[r]:r);else if(Zt.test(r)){for(a=a||p.appendChild(t.createElement("div")),u=(Yt.exec(r)||["",""])[1].toLowerCase(),l=an[u]||an._default,a.innerHTML=l[1]+r.replace(Jt,"<$1></$2>")+l[2],o=l[0];o--;)a=a.lastChild;if(!lt.support.leadingWhitespace&&Kt.test(r)&&h.push(t.createTextNode(Kt.exec(r)[0])),!lt.support.tbody)for(r="table"!==u||Qt.test(r)?"<table>"!==l[1]||Qt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)lt.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(lt.merge(h,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else h.push(t.createTextNode(r));for(a&&p.removeChild(a),lt.support.appendChecked||lt.grep(x(h,"input"),_),m=0;r=h[m++];)if((!i||-1===lt.inArray(r,i))&&(s=lt.contains(r.ownerDocument,r),a=x(p.appendChild(r),"script"),s&&y(a),n))for(o=0;r=a[o++];)on.test(r.type||"")&&n.push(r);return a=null,p},cleanData:function(e,t){for(var n,i,o,r,s=0,a=lt.expando,u=lt.cache,c=lt.support.deleteExpando,l=lt.event.special;null!=(n=e[s]);s++)if((t||lt.acceptData(n))&&(o=n[a],r=o&&u[o])){if(r.events)for(i in r.events)l[i]?lt.event.remove(n,i):lt.removeEvent(n,i,r.handle);u[o]&&(delete u[o],c?delete n[a]:typeof n.removeAttribute!==$?n.removeAttribute(a):n[a]=null,tt.push(o))}},_evalUrl:function(e){return lt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),lt.fn.extend({wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()}});var ln,dn,pn,fn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=RegExp("^("+dt+")(.*)$","i"),bn=RegExp("^("+dt+")(?!px)[a-z%]+$","i"),xn=RegExp("^([+-])=("+dt+")","i"),_n={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},En=["Top","Right","Bottom","Left"],jn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var o,r,s={},a=0;if(lt.isArray(n)){for(r=dn(e),o=n.length;o>a;a++)s[n[a]]=lt.css(e,n[a],!1,r);return s}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,u=lt.camelCase(n),c=e.style;if(n=lt.cssProps[u]||(lt.cssProps[u]=w(c,u)),a=lt.cssHooks[n]||lt.cssHooks[u],i===t)return a&&"get"in a&&(r=a.get(e,!1,o))!==t?r:c[n];if(s=typeof i,"string"===s&&(r=xn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(lt.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||lt.cssNumber[u]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,o))===t)))try{c[n]=i}catch(l){}}},css:function(e,n,i,o){var r,s,a,u=lt.camelCase(n);return n=lt.cssProps[u]||(lt.cssProps[u]=w(e.style,u)),a=lt.cssHooks[n]||lt.cssHooks[u],a&&"get"in a&&(s=a.get(e,!0,i)),s===t&&(s=pn(e,n,o)),"normal"===s&&n in Cn&&(s=Cn[n]),""===i||i?(r=parseFloat(s),i===!0||lt.isNumeric(r)?r||0:s):s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,i){var o,r,s,a=i||dn(e),u=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==u||lt.contains(e.ownerDocument,e)||(u=lt.style(e,n)),bn.test(u)&&yn.test(n)&&(o=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=a.width,c.width=o,c.minWidth=r,c.maxWidth=s)),u}):J.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},pn=function(e,n,i){var o,r,s,a=i||dn(e),u=a?a[n]:t,c=e.style;return null==u&&c&&c[n]&&(u=c[n]),bn.test(u)&&!mn.test(n)&&(o=c.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":u,u=c.pixelLeft+"px",c.left=o,s&&(r.left=s)),""===u?"auto":u}),lt.each(["height","width"],function(e,n){lt.cssHooks[n]={get:function(e,i,o){return i?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,wn,function(){return k(e,n,o)}):k(e,n,o):t},set:function(e,t,i){var o=i&&dn(e);return j(e,t,i?S(e,n,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o),o):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(r.replace(fn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=fn.test(r)?r.replace(fn,o):r+" "+o)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,n){return n?lt.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):t}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,n){lt.cssHooks[n]={get:function(e,i){return i?(i=pn(e,n),bn.test(i)?lt(e).position()[n]+"px":i):t}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+En[i]+t]=r[i]||r[i-2]||r[0];return o}},yn.test(e)||(lt.cssHooks[e+t].set=j)});var Sn=/%20/g,kn=/\[\]$/,Tn=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Nn.test(this.nodeName)&&!An.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();
return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,o=[],r=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){r(this.name,this.value)});else for(i in e)N(i,e[i],n,r);return o.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dn,Ln,On=lt.now(),Pn=/\?/,Rn=/#.*$/,Mn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,In=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qn=lt.fn.load,Vn={},Wn={},Un="*/".concat("*");try{Ln=K.href}catch(Gn){Ln=J.createElement("a"),Ln.href="",Ln=Ln.href}Dn=zn.exec(Ln.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&qn)return qn.apply(this,arguments);var o,r,s,a=this,u=e.indexOf(" ");return u>=0&&(o=e.slice(u,e.length),e=e.slice(0,u)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&lt.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){r=arguments,a.html(o?lt("<div>").append(lt.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:Bn.test(Dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,lt.ajaxSettings),t):O(lt.ajaxSettings,e)},ajaxPrefilter:D(Vn),ajaxTransport:D(Wn),ajax:function(e,n){function i(e,n,i,o){var r,d,v,b,_,C=n;2!==x&&(x=2,u&&clearTimeout(u),l=t,a=o||"",w.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=P(p,w,i)),b=R(p,b,w,r),r?(p.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(lt.lastModified[s]=_),_=w.getResponseHeader("etag"),_&&(lt.etag[s]=_)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,v=b.error,r=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),w.status=e,w.statusText=(n||C)+"",r?m.resolveWith(f,[d,C,w]):m.rejectWith(f,[w,C,v]),w.statusCode(y),y=t,c&&h.trigger(r?"ajaxSuccess":"ajaxError",[w,p,r?d:v]),g.fireWith(f,[w,C]),c&&(h.trigger("ajaxComplete",[w,p]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,r,s,a,u,c,l,d,p=lt.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!d)for(d={};t=Fn.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return l&&l.abort(t),i(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||Ln)+"").replace(Rn,"").replace(In,Dn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=lt.trim(p.dataType||"*").toLowerCase().match(pt)||[""],null==p.crossDomain&&(o=zn.exec(p.url.toLowerCase()),p.crossDomain=!(!o||o[1]===Dn[1]&&o[2]===Dn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Dn[3]||("http:"===Dn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=lt.param(p.data,p.traditional)),L(Vn,p,n,w),2===x)return w;c=p.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Hn.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(Pn.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Mn.test(s)?s.replace(Mn,"$1_="+On++):s+(Pn.test(s)?"&":"?")+"_="+On++)),p.ifModified&&(lt.lastModified[s]&&w.setRequestHeader("If-Modified-Since",lt.lastModified[s]),lt.etag[s]&&w.setRequestHeader("If-None-Match",lt.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Un+"; q=0.01":""):p.accepts["*"]);for(r in p.headers)w.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(p.beforeSend.call(f,w,p)===!1||2===x))return w.abort();_="abort";for(r in{success:1,error:1,complete:1})w[r](p[r]);if(l=L(Wn,p,n,w)){w.readyState=1,c&&h.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){w.abort("timeout")},p.timeout));try{x=1,l.send(v,i)}catch(C){if(!(2>x))throw C;i(-1,C)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return lt.get(e,t,n,"json")},getScript:function(e,n){return lt.get(e,t,n,"script")}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,o,r){return lt.isFunction(i)&&(r=r||o,o=i,i=t),lt.ajax({url:e,type:n,dataType:r,data:i,success:o})}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=J.head||lt("head")[0]||J.documentElement;return{send:function(t,o){n=J.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Xn=[],$n=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xn.pop()||lt.expando+"_"+On++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,o){var r,s,a,u=n.jsonp!==!1&&($n.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&$n.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace($n,"$1"+r):n.jsonp!==!1&&(n.url+=(Pn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||lt.error(r+" was not called"),a[0]},n.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},o.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Xn.push(r)),a&&lt.isFunction(s)&&s(a[0]),a=s=t}),"script"):t});var Kn,Jn,Yn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&M()||F()}:M,Jn=lt.ajaxSettings.xhr(),lt.support.cors=!!Jn&&"withCredentials"in Jn,Jn=lt.support.ajax=!!Jn,Jn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(o,r){var s,a,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)u[a]=n.xhrFields[a];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)u.setRequestHeader(a,o[a])}catch(c){}u.send(n.hasContent&&n.data||null),i=function(e,o){var a,c,l,d;try{if(i&&(o||4===u.readyState))if(i=t,s&&(u.onreadystatechange=lt.noop,Qn&&delete Kn[s]),o)4!==u.readyState&&u.abort();else{d={},a=u.status,c=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(d.text=u.responseText);try{l=u.statusText}catch(p){l=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){o||r(-1,f)}d&&r(a,l,d,c)},n.async?4===u.readyState?setTimeout(i):(s=++Yn,Qn&&(Kn||(Kn={},lt(e).unload(Qn)),Kn[s]=i),u.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,oi=[q],ri={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=ni.exec(t),r=o&&o[3]||(lt.cssNumber[e]?"":"px"),s=(lt.cssNumber[e]||"px"!==r&&+i)&&ni.exec(lt.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,lt.style(n.elem,e,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};lt.Animation=lt.extend(I,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?oi.unshift(e):oi.push(e)}}),lt.Tween=V,V.prototype={constructor:V,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(lt.cssNumber[n]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,n=V.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,o)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=lt.isEmptyObject(e),r=lt.speed(t,n,i),s=function(){var t=I(this,lt.extend({},e),r);(o||lt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=lt.timers,s=lt._data(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=lt.timers,s=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=V.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,o={top:0,left:0},r=this[0],s=r&&r.ownerDocument;return s?(n=s.documentElement,lt.contains(n,r)?(typeof r.getBoundingClientRect!==$&&(o=r.getBoundingClientRect()),i=U(s),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o):void 0},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,s=lt(e),a=s.offset(),u=lt.css(e,"top"),c=lt.css(e,"left"),l=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[u,c])>-1,d={},p={};l?(p=s.position(),o=p.top,r=p.left):(o=parseFloat(u)||0,r=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):s.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||Y})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(o){return lt.access(this,function(e,o,r){var s=U(e);return r===t?s?n in s?s[n]:s.document.documentElement[o]:e[o]:(s?s.scrollTo(i?lt(s).scrollLeft():r,i?r:lt(s).scrollTop()):e[o]=r,t)},e,o,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,o){lt.fn[o]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||r===!0?"margin":"border");return lt.access(this,function(n,i,o){var r;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):o===t?lt.css(n,i,a):lt.style(n,i,o,a)},n,s?o:t,s,null)}})}),lt.fn.size=function(){return this.length},lt.fn.andSelf=lt.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=lt:(e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define("jquery",[],function(){return lt}))}(window),define("j.RenderingModes",[],function(){var e={EXTEND:0,FIXED:1};return e}),define("j.canvas",["jquery","j.RenderingModes"],function(e,t){var n=function(){};return n.prototype.init=function(n){switch(this.options=n,this.container=e(n.mainContainer),this.canvas=e("<canvas />").appendTo(this.container),n.renderingMode){case t.EXTEND:this.setExtendedMode(n);break;case t.FIXED:this.setFixedMode(n)}this.ctx=this.canvas[0].getContext("2d")},n.prototype.setSize=function(e,t){this.width=e,this.height=t,this.canvas.attr({width:e,height:t}),"function"==typeof this.resizeCallback&&this.resizeCallback(e,t)},n.prototype.setExtendedMode=function(){this.setSize(this.container.width(),this.container.height());var t=this;e(window).on("resize",function(){t.setSize(t.container.width(),t.container.height())})},n.prototype.setResizeCallback=function(e){this.resizeCallback=e,this.resizeCallback(this.width,this.height)},n.prototype.setFixedMode=function(e){this.setSize(e.width,e.height)},n.prototype.processMouseEvent=function(e){var t=this.container.offset();return{x:e.pageX-t.left,y:e.pageY-t.top}},n.prototype.bindMouseMove=function(e,t){var n=this;this.container.on(e,function(e){t(n.processMouseEvent(e))})},new n}),define("j.world",["underscore","j.canvas"],function(e){var t=function(){this.gravity=0};return t.prototype.init=function(e){this.options=e,this.unitSize=e.unitSize,this.boundaries=e.boundaries},t.prototype.setProperties=function(t){e.extend(this,t)},new t}),define("j.time",[],function(){var e=function(){this.initTime=Date.now()/1e3,this.timeScale=1};return e.prototype.preUpdate=function(){this.time=Date.now()/1e3,this.deltaTime=(this.time-this.lastTime)*this.timeScale,this.lastTime=Date.now()/1e3},e.prototype.postUpdate=function(){},e.prototype.start=function(){this.startTime=Date.now()/1e3,this.lastTime=Date.now()/1e3,this.time=Date.now()/1e3},e.prototype.pause=function(){this.pauseTime=Date.now()/1e3},e.prototype.resume=function(){this.resumeTime=Date.now()/1e3,this.lastTime=this.resumeTime},new e}),define("j.Rectangle",["j.Vector2"],function(e){var t=function(t){"object"!=typeof t&&(t={}),this.start=new e(t.start||{x:0,y:0}),this.end=new e(t.end||{x:1,y:1})};return t}),define("j.aabb",[],function(){var e=function(e,t){return e.start.x+e.end.x<t.start.x||t.start.x+t.end.x<e.start.x||e.start.y+e.end.y<t.start.y||t.start.y+t.end.y<e.start.y?!1:!0};return e}),define("j.camera",["j.world","j.Rectangle","j.aabb","j.Vector2","j.canvas"],function(e,t,n,i,o){var r=function(){this.position=new i(0,0),this.box=new t({start:{x:-8,y:-4.5},end:{x:16,y:9},width:1600,height:900}),this.distance=1};return r.prototype.isInside=function(e){return n(this.box,e)},r.prototype.convertPosition=function(e){return new i({x:e.x-this.box.start.x,y:e.y-this.box.start.y})},r.prototype.convertLocalPosition=function(e){return new i({x:e.x+this.box.start.x,y:e.y+this.box.start.y})},r.prototype.load=function(e){"object"==typeof e&&this.setPosition(e.position)},r.prototype.setPosition=function(e){this.position=new i(e),this.resizeCallback(this.width,this.height)},r.prototype.resizeCallback=function(t,n){this.width=t,this.height=n,this.box.start.x=this.position.x-t/e.unitSize/2,this.box.start.y=this.position.y-n/e.unitSize/2,this.box.end.x=t/e.unitSize,this.box.end.y=n/e.unitSize},r.prototype.init=function(e){this.position=new i(e.position),this.distance=e.distance;var t=this;o.setResizeCallback(function(e,n){t.resizeCallback(e,n)})},new r}),define("j.config",["underscore"],function(e){var t=function(){};return t.prototype.init=function(t){e.extend(this,t)},new t}),define("j.Scene",["j.ES","underscore","j.systems","j.componentTypes","j.world","j.time","j.camera","j.config"],function(e,t,n,i,o,r,s,a){var u=function(e){this.description=e,this.name=e.name,this.entitiesCounter=0,this.entities={},this.componentData={},this.componentCounters={},this.entityComponents={},this.functionsUsed={}};return t.extend(u.prototype,e.prototype),u.prototype.init=function(e){for(var t in i)this.componentData[t]={},this.componentCounters[t]=0;for(var o in n)for(var r in n[o])"function"==typeof n[o][r]&&("object"==typeof this.functionsUsed[r]?this.functionsUsed[r].push(o):this.functionsUsed[r]=[o]);e()},u.prototype.load=function(e){o.setProperties(this.description.worldProperties);for(var t in this.description.content){var n=this.description.content[t],i=this.createEntity({transform:n.transform,label:n.label,tag:n.tag,_id:n._id});for(var a in n.components)var u=a,c=n.components[a],l=this.createComponentAndAddTo(i,u,c)}r.start(),s.load(this.description.camera),this.launchEV("start"),e()},u.prototype._export=function(){var e={worldProperties:{gravity:o.gravity},camera:{position:s.position},content:{}};for(var n in this.entityComponents){var i=this.entities[n];e.content[n]={},t.extend(e.content[n],i),e.content[n].components={};var r=e.content[n].components;for(var a in this.entityComponents[n]){var u=this.entityComponents[n][a][0],c=this.componentData[a][u];r[a]="function"==typeof c.export?c.export():t.extend({},c)}}return JSON.stringify(e)},u.prototype.pause=function(){},u.prototype.resume=function(){},u.prototype.checkEditMode=function(e,t){if(!a.engine.editing)return!0;if(void 0===typeof t.executeInEditMode||t.executeInEditMode===!1)return!1;if("boolean"==typeof t.executeInEditMode)return!0;if("object"==typeof t.executeInEditMode){for(var n=0;n<t.executeInEditMode.length;n++)if(t.executeInEditMode[n]===e)return!0;return!1}},u.prototype.checkOnlyEditMode=function(e,t){if(void 0===typeof t.onlyEditMode||t.onlyEditMode===!1)return!0;if("object"!=typeof t.onlyEditMode)return a.engine.editing;for(var n=0;n<t.onlyEditMode.length;n++)if(t.onlyEditMode[n]===e)return a.engine.editing},u.prototype.launchEV=function(e){if("object"==typeof this.functionsUsed[e])for(var t=0;t<this.functionsUsed[e].length;t++){var i=this.functionsUsed[e][t],o=n[i];if(this.checkEditMode(e,o)&&this.checkOnlyEditMode(e,o))if(o.globalSystem||o.masterSystem)o[e](this);else for(var r=this.getEntitiesForComponents(o.usedComponents),s=0;s<r.length;s++)o[e](this,r[s])}},u.prototype.entityEvent=function(e,t,i){if("object"==typeof this.functionsUsed[e])for(var o=0;o<this.functionsUsed[e].length;o++){var r=this.functionsUsed[e][o],s=n[r];if(this.checkEditMode(e,s)&&this.checkOnlyEditMode(e,s))if(t!==!1){for(var a=!0,u=0;u<s.usedComponents;u++)if(!this.hasComponent(t._id,s.usedComponents[u])){a=!1;break}a&&s[e](this,t,i)}else s[e](this,!1)}},u}),define("j.currentScene",[],function(){}),define("j.emptyScene",[],function(){return{content:[],name:"empty"}}),define("j.sceneManager",["underscore","j.Scene","j.currentScene","j.emptyScene","j.systems","j.config"],function(e,t,n,i,o,r){var s=function(){this.sceneDescriptions={},this.scenes={},this.activeScene=new t(i)};return s.prototype.registerScenes=function(t){e.extend(this.sceneDescriptions,t)},s.prototype.registerScene=function(e,t){delete this.sceneDescriptions[e],this.sceneDescriptions[e]=t},s.prototype.registerSystem=function(e,t){o.registerSystem(e,t)},s.prototype.changeScene=function(e,t){this.loadScene(e,t)},s.prototype._toggleEdit=function(e){r.engine.editing?this._playMode(e):this._editMode(e)},s.prototype._playMode=function(t){r.engine.editing=!1,this.editingDescription=e.extend(this.activeScene.description,JSON.parse(this.activeScene._export()));var n=this;this.changeScene("empty",function(){n.registerScene(n.editingDescription.name,n.editingDescription),n.changeScene(n.editingDescription.name,t)})},s.prototype._editMode=function(e){r.engine.editing=!0;var t=this;this.changeScene("empty",function(){t.registerScene(t.editingDescription.name,t.editingDescription),t.changeScene(t.editingDescription.name,e)})},s.prototype.loadScene=function(e,n){delete this.scenes[e],this.scenes[e]=new t(this.sceneDescriptions[e]),this.lastScene=this.activeScene;var i=this;this.scenes[e].init(function(){i.scenes[e].load(function(){i.activeScene=i.scenes[e],n()})})},new s}),define("j.requestAnimFrame",[],function(){var e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();return e}),define("j.Shapes",[],function(){var e={CIRCLE:0,BOX:1};return e}),define("j.Box",["j.Rectangle","j.Vector2"],function(e,t){var n=function(e){"object"!=typeof e&&(e={}),this.start=new t(e.start),this.end=new t(e.end||{x:1,y:1})};return n.prototype.getProperties=function(e){var t=e.addFolder("start");this.start.getProperties(t);var n=e.addFolder("end");this.end.getProperties(n)},n}),define("j.Circle",["j.Vector2"],function(e){var t=function(t){"object"!=typeof t&&(t={}),this.radius=t.radius||1,this.center=new e(t.center)};return t.prototype.getProperties=function(e){var t=e.addFolder("center");this.center.getProperties(t),e.add(this,"radius")},t});var dat=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css=function(){return{load:function(e,t){t=t||document;var n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),dat.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){for(var n=t.call(arguments),i=e.length-1;i>=0;i--)n=[e[i].apply(this,n)];return n[0]}},each:function(t,n,i){if(e&&t.forEach===e)t.forEach(n,i);else if(t.length===t.length+0)for(var o=0,r=t.length;r>o&&!(o in t&&n.call(i,t[o],o)===this.BREAK);o++);else for(o in t)if(n.call(i,t[o],o)===this.BREAK)break},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}}(),dat.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onFinishChange=this.__onChange=void 0};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(dat.utils.common),dat.dom.dom=function(e){function t(t){return"0"===t||e.isUndefined(t)?0:(t=t.match(i),e.isNull(t)?0:parseFloat(t[1]))}var n={};e.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,i){e.each(t,function(e){n[e]=i})});var i=/(\d+(\.\d+)?)px/,o={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,n,i){e.isUndefined(n)&&(n=!0),e.isUndefined(i)&&(i=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,i,o,r){o=o||{};var s=n[i];if(!s)throw Error("Event type "+i+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":a.initMouseEvent(i,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,o.x||o.clientX||0,o.y||o.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":s=a.initKeyboardEvent||a.initKeyEvent,e.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),s(i,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(i,o.bubbles||!1,o.cancelable||!0)}e.defaults(a,r),t.dispatchEvent(a)},bind:function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n),o},unbind:function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n),o},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return o},removeClass:function(e,t){if(t){if(void 0!==e.className)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!=i&&(n.splice(i,1),e.className=n.join(" "))}}else e.className=void 0;return o},hasClass:function(e,t){return RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){return e=getComputedStyle(e),t(e["border-left-width"])+t(e["border-right-width"])+t(e["padding-left"])+t(e["padding-right"])+t(e.width)},getHeight:function(e){return e=getComputedStyle(e),t(e["border-top-width"])+t(e["border-bottom-width"])+t(e["padding-top"])+t(e["padding-bottom"])+t(e.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return o}(dat.utils.common),dat.controllers.OptionController=function(e,t,n){var i=function(e,o,r){i.superclass.call(this,e,o);var s=this;if(this.__select=document.createElement("select"),n.isArray(r)){var a={};n.each(r,function(e){a[e]=e}),r=a}n.each(r,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){s.setValue(this.options[this.selectedIndex].value)}),this.domElement.appendChild(this.__select)};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){return e=i.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(e,t){var n=function(e,i,o){n.superclass.call(this,e,i),o=o||{},this.__min=o.min,this.__max=o.max,this.__step=o.step,this.__impliedStep=t.isUndefined(this.__step)?0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__step,e=this.__impliedStep,e=e.toString(),e=-1<e.indexOf(".")?e.length-e.indexOf(".")-1:0,this.__precision=e};return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&0!=e%this.__step&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this
},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),n}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(e,t,n){var i=function(e,o,r){function s(){var e=parseFloat(l.__input.value);n.isNaN(e)||l.setValue(e)}function a(e){var t=c-e.clientY;l.setValue(l.getValue()+t*l.__impliedStep),c=e.clientY}function u(){t.unbind(window,"mousemove",a),t.unbind(window,"mouseup",u)}this.__truncationSuspended=!1,i.superclass.call(this,e,o,r);var c,l=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",function(){s(),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}),t.bind(this.__input,"mousedown",function(e){t.bind(window,"mousemove",a),t.bind(window,"mouseup",u),c=e.clientY}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=e,n.extend(i.prototype,e.prototype,{updateDisplay:function(){var e,t=this.__input;if(this.__truncationSuspended)e=this.getValue();else{e=this.getValue();var n=Math.pow(10,this.__precision);e=Math.round(e*n)/n}return t.value=e,i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(e,t,n,i,o){function r(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)}var s=function(e,n,i,o,a){function u(e){e.preventDefault();var n=t.getOffset(l.__background),i=t.getWidth(l.__background);return l.setValue(r(e.clientX,n.left,n.left+i,l.__min,l.__max)),!1}function c(){t.unbind(window,"mousemove",u),t.unbind(window,"mouseup",c),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}s.superclass.call(this,e,n,{min:i,max:o,step:a});var l=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",function(e){t.bind(window,"mousemove",u),t.bind(window,"mouseup",c),u(e)}),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return s.superclass=e,s.useDefaultStyles=function(){n.inject(o)},i.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",s.superclass.prototype.updateDisplay.call(this)}}),s}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,"/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),dat.controllers.FunctionController=function(e,t,n){var i=function(e,n,o){i.superclass.call(this,e,n);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===o?"Fire":o,t.bind(this.__button,"click",function(e){return e.preventDefault(),r.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return i.superclass=e,n.extend(i.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),i}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(e,t,n){var i=function(e,n){i.superclass.call(this,e,n);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",function(){o.setValue(!o.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){return e=i.superclass.prototype.setValue.call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(t=t.hex.toString(16);6>t.length;)t="0"+t;return"#"+t}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(dat.utils.common),dat.color.interpret=function(e,t){var n,i,o=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){return e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i),null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){return e=e.match(/^#([A-F0-9]{6})$/i),null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:e},CSS_RGB:{read:function(e){return e=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/),null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:e},CSS_RGBA:{read:function(e){return e=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/),null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4!=e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){i=!1;var e=1<arguments.length?t.toArray(arguments):arguments[0];return t.each(o,function(o){return o.litmus(e)?(t.each(o.conversions,function(o,r){return n=o.read(e),!1===i&&!1!==n?(i=n,n.conversionName=r,n.conversion=o,t.BREAK):void 0}),t.BREAK):void 0}),i}}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(e,t,n,i,o,r,s,a,u,c,l,d,p,f,h){function m(e,t,n,r){if(void 0===t[n])throw Error("Object "+t+' has no property "'+n+'"');r.color?t=new l(t,n):(t=[t,n].concat(r.factoryArgs),t=i.apply(e,t)),r.before instanceof o&&(r.before=r.before.__li),v(e,t),f.addClass(t.domElement,"c"),n=document.createElement("span"),f.addClass(n,"property-name"),n.innerHTML=t.property;var s=document.createElement("div");return s.appendChild(n),s.appendChild(t.domElement),r=g(e,s,r.before),f.addClass(r,P.CLASS_CONTROLLER_ROW),f.addClass(r,typeof t.getValue()),y(e,r,t),e.__controllers.push(t),t}function g(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,params.before):e.__ul.appendChild(i),e.onResize(),i}function y(e,t,n){if(n.__li=t,n.__gui=e,h.extend(n,{options:function(t){return 1<arguments.length?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[h.toArray(arguments)]})):h.isArray(t)||h.isObject(t)?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof u){var i=new a(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});h.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],o=i[e];n[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),o.apply(i,e)}}),f.addClass(t,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof a){var o=function(t){return h.isNumber(n.__min)&&h.isNumber(n.__max)?(n.remove(),m(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=h.compose(o,n.min),n.max=h.compose(o,n.max)}else n instanceof r?(f.bind(t,"click",function(){f.fakeEvent(n.__checkbox,"click")}),f.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof s?(f.bind(t,"click",function(){f.fakeEvent(n.__button,"click")}),f.bind(t,"mouseover",function(){f.addClass(n.__button,"hover")}),f.bind(t,"mouseout",function(){f.removeClass(n.__button,"hover")})):n instanceof l&&(f.addClass(t,"color"),n.updateDisplay=h.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=h.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&E(e.getRoot(),!0),t},n.setValue)}function v(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!=i){var o=n.__rememberedObjectIndecesToControllers[i];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[i]=o),o[t.property]=t,n.load&&n.load.remembered){if(n=n.load.remembered,n[e.preset])n=n[e.preset];else{if(!n[k])return;n=n[k]}n[i]&&void 0!==n[i][t.property]&&(i=n[i][t.property],t.initialValue=i,t.setValue(i))}}}function b(e){var t=e.__save_row=document.createElement("li");f.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),f.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",f.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",f.addClass(i,"button"),f.addClass(i,"save");var o=document.createElement("span");o.innerHTML="New",f.addClass(o,"button"),f.addClass(o,"save-as");var r=document.createElement("span");r.innerHTML="Revert",f.addClass(r,"button"),f.addClass(r,"revert");var s=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?h.each(e.load.remembered,function(t,n){C(e,n,n==e.preset)}):C(e,k,!1),f.bind(s,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(s),t.appendChild(n),t.appendChild(i),t.appendChild(o),t.appendChild(r),S){var t=document.getElementById("dg-save-locally"),a=document.getElementById("dg-local-explain");t.style.display="block",t=document.getElementById("dg-local-storage"),"true"===localStorage.getItem(document.location.href+".isLocal")&&t.setAttribute("checked","checked");var u=function(){a.style.display=e.useLocalStorage?"block":"none"};u(),f.bind(t,"change",function(){e.useLocalStorage=!e.useLocalStorage,u()})}var c=document.getElementById("dg-new-constructor");f.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||A.hide()}),f.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),A.show(),c.focus(),c.select()}),f.bind(i,"click",function(){e.save()}),f.bind(o,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),f.bind(r,"click",function(){e.revert()})}function x(e){function t(t){return t.preventDefault(),o=t.clientX,f.addClass(e.__closeButton,P.CLASS_DRAG),f.bind(window,"mousemove",n),f.bind(window,"mouseup",i),!1}function n(t){return t.preventDefault(),e.width+=o-t.clientX,e.onResize(),o=t.clientX,!1}function i(){f.removeClass(e.__closeButton,P.CLASS_DRAG),f.unbind(window,"mousemove",n),f.unbind(window,"mouseup",i)}e.__resize_handle=document.createElement("div"),h.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var o;f.bind(e.__resize_handle,"mousedown",t),f.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function _(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function w(e,t){var n={};return h.each(e.__rememberedObjects,function(i,o){var r={};h.each(e.__rememberedObjectIndecesToControllers[o],function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[o]=r}),n}function C(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function E(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function j(e){0!=e.length&&d(function(){j(e)}),h.each(e,function(e){e.updateDisplay()})}e.inject(n);var S,k="Default";try{S="localStorage"in window&&null!==window.localStorage}catch(T){S=!1}var A,N,D=!0,L=!1,O=[],P=function(e){function t(){localStorage.setItem(document.location.href+".gui",JSON.stringify(i.getSaveObject()))}function n(){var e=i.getRoot();e.width+=1,h.defer(function(){e.width-=1})}var i=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=h.defaults(e,{autoPlace:!0,width:P.DEFAULT_WIDTH}),e=h.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),h.isUndefined(e.load)?e.load={preset:k}:e.preset&&(e.load.preset=e.preset),h.isUndefined(e.parent)&&e.hideable&&O.push(this),e.resizable=h.isUndefined(e.parent)&&e.resizable,e.autoPlace&&h.isUndefined(e.scrollable)&&(e.scrollable=!0);var o=S&&"true"===localStorage.getItem(document.location.href+".isLocal");if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return i.parent?i.getRoot().preset:e.load.preset},set:function(t){for(i.parent?i.getRoot().preset=t:e.load.preset=t,t=0;t<this.__preset_select.length;t++)this.__preset_select[t].value==this.preset&&(this.__preset_select.selectedIndex=t);i.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,_(i,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,s&&(s.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?f.addClass(i.__ul,P.CLASS_CLOSED):f.removeClass(i.__ul,P.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?P.TEXT_OPEN:P.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return o},set:function(e){S&&((o=e)?f.bind(window,"unload",t):f.unbind(window,"unload",t),localStorage.setItem(document.location.href+".isLocal",e))}}}),h.isUndefined(e.parent)){if(e.closed=!1,f.addClass(this.domElement,P.CLASS_MAIN),f.makeSelectable(this.domElement,!1),S&&o){i.useLocalStorage=!0;var r=localStorage.getItem(document.location.href+".gui");r&&(e.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=P.TEXT_CLOSED,f.addClass(this.__closeButton,P.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{void 0===e.closed&&(e.closed=!0);var s=document.createTextNode(e.name);f.addClass(s,"controller-name"),r=g(i,s),f.addClass(this.__ul,P.CLASS_CLOSED),f.addClass(r,"title"),f.bind(r,"click",function(e){return e.preventDefault(),i.closed=!i.closed,!1}),e.closed||(this.closed=!1)}e.autoPlace&&(h.isUndefined(e.parent)&&(D&&(N=document.createElement("div"),f.addClass(N,"dg"),f.addClass(N,P.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(N),D=!1),N.appendChild(this.domElement),f.addClass(this.domElement,P.CLASS_AUTO_PLACE)),this.parent||_(i,e.width)),f.bind(window,"resize",function(){i.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){i.onResize()}),f.bind(this.__ul,"transitionend",function(){i.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){i.onResize()}),this.onResize(),e.resizable&&x(this),i.getRoot(),e.parent||n()};return P.toggleHide=function(){L=!L,h.each(O,function(e){e.domElement.style.zIndex=L?-999:999,e.domElement.style.opacity=L?0:1})},P.CLASS_AUTO_PLACE="a",P.CLASS_AUTO_PLACE_CONTAINER="ac",P.CLASS_MAIN="main",P.CLASS_CONTROLLER_ROW="cr",P.CLASS_TOO_TALL="taller-than-window",P.CLASS_CLOSED="closed",P.CLASS_CLOSE_BUTTON="close-button",P.CLASS_DRAG="drag",P.DEFAULT_WIDTH=245,P.TEXT_CLOSED="Close Controls",P.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||P.toggleHide()},!1),h.extend(P.prototype,{add:function(e,t){return m(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return m(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;h.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&N.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};return t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]),t=new P(t),this.__folders[e]=t,e=g(this,t.domElement),f.addClass(e,"folder"),t},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=f.getOffset(e.__ul).top,n=0;h.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=f.getHeight(t))}),window.innerHeight-t-20<n?(f.addClass(e.domElement,P.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(f.removeClass(e.domElement,P.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&h.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(h.isUndefined(A)&&(A=new p,A.domElement.innerHTML=t),this.parent)throw Error("You can only call remember on a top level GUI.");var e=this;h.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&b(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&_(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,0<this.__rememberedObjects.length&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=w(this)),e.folders={},h.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=w(this),E(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[k]=w(this,!0)),this.load.remembered[e]=w(this),this.preset=e,C(this,e,!0)},revert:function(e){h.each(this.__controllers,function(t){this.getRoot().load.remembered?v(e||this.getRoot(),t):t.setValue(t.initialValue)},this),h.each(this.__folders,function(e){e.revert(e)}),e||E(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&j(this.__listening)}}),P}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",dat.controllers.factory=function(e,t,n,i,o,r,s){return function(a,u,c,l){var d=a[u];return s.isArray(c)||s.isObject(c)?new e(a,u,c):s.isNumber(d)?s.isNumber(c)&&s.isNumber(l)?new n(a,u,c,l):new t(a,u,{min:c,max:l}):s.isString(d)?new i(a,u):s.isFunction(d)?new o(a,u,""):s.isBoolean(d)?new r(a,u):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,t,n){var i=function(e,n){function o(){r.setValue(r.__input.value)}i.superclass.call(this,e,n);var r=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",o),t.bind(this.__input,"change",o),t.bind(this.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=e,n.extend(i.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(e,t,n,i,o){function r(e,t,n,i){e.style.background="",o.each(u,function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(e,u){function c(e){f(e),t.bind(window,"mousemove",f),t.bind(window,"mouseup",l)}function l(){t.unbind(window,"mousemove",f),t.unbind(window,"mouseup",l)}function d(){var e=i(this.value);!1!==e?(m.__color.__state=e,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()
}function p(){t.unbind(window,"mousemove",h),t.unbind(window,"mouseup",p)}function f(e){e.preventDefault();var n=t.getWidth(m.__saturation_field),i=t.getOffset(m.__saturation_field),o=(e.clientX-i.left+document.body.scrollLeft)/n;return e=1-(e.clientY-i.top+document.body.scrollTop)/n,e>1?e=1:0>e&&(e=0),o>1?o=1:0>o&&(o=0),m.__color.v=e,m.__color.s=o,m.setValue(m.__color.toOriginal()),!1}function h(e){e.preventDefault();var n=t.getHeight(m.__hue_field),i=t.getOffset(m.__hue_field);return e=1-(e.clientY-i.top+document.body.scrollTop)/n,e>1?e=1:0>e&&(e=0),m.__color.h=360*e,m.setValue(m.__color.toOriginal()),!1}a.superclass.call(this,e,u),this.__color=new n(this.getValue()),this.__temp=new n(0);var m=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&d.call(this)}),t.bind(this.__input,"blur",d),t.bind(this.__selector,"mousedown",function(){t.addClass(this,"drag").bind(window,"mouseup",function(){t.removeClass(m.__selector,"drag")})});var g=document.createElement("div");o.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(.5>this.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(g.style,{width:"100%",height:"100%",background:"none"}),r(g,"top","rgba(0,0,0,0)","#000"),o.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),o.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",c),t.bind(this.__field_knob,"mousedown",c),t.bind(this.__hue_field,"mousedown",function(e){h(e),t.bind(window,"mousemove",h),t.bind(window,"mouseup",p)}),this.__saturation_field.appendChild(g),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=e,o.extend(a.prototype,e.prototype,{updateDisplay:function(){var e=i(this.getValue());if(!1!==e){var t=!1;o.each(n.COMPONENTS,function(n){return o.isUndefined(e[n])||o.isUndefined(this.__color.__state[n])||e[n]===this.__color.__state[n]?void 0:(t=!0,{})},this),t&&o.extend(this.__color.__state,e)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=.5>this.__color.v||.5<this.__color.s?255:0,a=255-s;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,r(this.__saturation_field,"left","#fff",this.__temp.toString()),o.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var u=["-moz-","-o-","-webkit-","-ms-",""];return a}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,t,n,i){function o(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function r(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(a(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,o){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,o);else{if("HSV"!==e.__state.space)throw"Corrupted color state";i.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var u=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS="r g b h s v hex a".split(" "),i.extend(u.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),o(u.prototype,"r",2),o(u.prototype,"g",1),o(u.prototype,"b",0),r(u.prototype,"h"),r(u.prototype,"s"),r(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),u}(dat.color.interpret,dat.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var i=e/60-Math.floor(e/60),o=n*(1-t),r=n*(1-i*t);return t=n*(1-(1-i)*t),e=[[n,t,o],[r,n,o],[o,n,t],[o,r,n],[t,o,n],[n,o,r]][Math.floor(e/60)%6],{r:255*e[0],g:255*e[1],b:255*e[2]}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),o=Math.max(e,t,n),i=o-i;return 0==o?{h:0/0,s:0,v:0}:(e=(e==o?(t-n)/i:t==o?2+(n-e)/i:4+(e-t)/i)/6,0>e&&(e+=1),{h:360*e,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){return e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t),e=this.hex_with_component(e,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(t,n,i){return i<<(e=8*n)|t&~(255<<e)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),dat.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common),define("dat.gui",function(e){return function(){var t;return t||e.dat}}(this)),define("j.PropertiesGui",["jquery","dat.gui"],function(e,t){var n=function(){this.container=e("<div />").addClass("j-properties-editor").appendTo(e("body")),this.gui=new t.GUI({autoplace:!1}),this.container.append(e(this.gui.domElement))};return n.prototype.destroy=function(){this.gui.destroy(),this.container.remove()},n.prototype.fillProperties=function(e,t){"undefined"==typeof t&&(t=this.gui);for(var n in e){var i=e[n];if("undefined"!=typeof i&&"function"!=typeof i)if("object"==typeof i){var o=t.addFolder(n);this.fillProperties(i,o)}else t.add(e,n)}},n}),define("j.propertiesGui",["j.PropertiesGui"],function(e){var t=function(){this.gui=!1};return t.prototype.create=function(t){return"object"==typeof this.gui&&(console.log("removing"),$(this.gui.container).remove(),delete this.gui,this.gui=!1),t.entity!==!1&&(this.gui=new e(t)),this.gui},new t}),define("j.editGui",["dat.gui","j.propertiesGui","jquery"],function(e,t,n){function i(e,t){n(e.__folders[t].__ul).remove(),delete e.__folders[t]}var o=new e.GUI;return o.addFolder("config"),{main:o,config:o.__folders.config,propertiesGui:t,removeFolder:i}}),define("j.Renderer",["j.Shapes","j.Box","j.Circle","j.Vector2","j.editGui"],function(e,t,n,i,o){var r={};r[e.CIRCLE]=n,r[e.BOX]=t;var s=function(e){"object"!=typeof e&&(e={}),this.color=e.color||"#0000ff",this.shape=e.shape||0,this.properties=new r[this.shape](e.properties),this.pivot=new i(e.pivot)};return s.prototype.getProperties=function(e){var t=e.addFolder("renderer");t.addColor(this,"color");var n=t.add(this,"shape",{Circle:0,Box:1}),i=t.addFolder("pivot");this.pivot.getProperties(i);var s=this,a=t.addFolder("properties");this.properties.getProperties(a),n.onChange(function(e){console.log(e),s.shape=parseInt(e,10),s.properties=new r[s.shape]({}),console.log(s),o.removeFolder(t,"properties"),a=t.addFolder("properties"),s.properties.getProperties(a)})},s.prototype.export=function(){return{color:this.color,shape:this.shape,pivot:this.pivot,properties:this.properties}},s}),define("j.Rigidbody",["j.Shapes","j.Circle","j.Box","j.Vector2","j.editGui"],function(e,t,n,i,o){var r={};r[e.CIRCLE]=t,r[e.BOX]=n;var s=function(e){this.mass=e.mass||0,this.lastAcceleration=e.acceleration||new i(0,0),this.acceleration=this.lastAcceleration,this.forces=e.forces||new i(0,0),this.impulses=e.impulses||new i(0,0),this.velocity=e.velocity||new i(0,0),this.nextPosition=e.nextPosition||new i(0,0),this.airFriction=e.airFriction||1,this.friction=e.friction||1,this.bouncy=e.bouncy||0,this.fixed=e.fixed||!1,this.shape=e.shape||0,this.ignoreCollision=!1,this.collidingWith={},this.properties=new r[this.shape](e.properties)};return s.prototype.getProperties=function(e){var t=e.addFolder("rigidbody");t.add(this,"mass"),t.add(this,"airFriction"),t.add(this,"friction"),t.add(this,"bouncy"),t.add(this,"fixed");var n=t.add(this,"shape",{Circle:0,Box:1}),i=this,s=t.addFolder("properties");this.properties.getProperties(s),n.onChange(function(e){i.shape=parseInt(e,10),i.properties=new r[i.shape]({}),o.removeFolder(t,"properties"),s=t.addFolder("properties"),i.properties.getProperties(s)})},s.prototype.export=function(){return{shape:this.shape,mass:this.mass,airFriction:this.airFriction,friction:this.friction,bouncy:this.bouncy,fixed:this.fixed,properties:this.properties}},s}),define("j.Inputable",[],function(){var e=function(e){this.inputId=e.inputId||0};return e}),define("j.defaultComponents",["j.Renderer","j.Rigidbody","j.Inputable"],function(e,t,n){var i={renderer:e,rigidbody:t,inputable:n};return i}),define("j.System",[],function(){var e=function(e){this.masterSystem=e.masterSystem||!1,this.usedComponents=e.usedComponents||[],this.globalSystem=e.globalSystem||!1,this.executeInEditMode=e.executeInEditMode||!1,this.onlyEditMode=e.onlyEditMode||!1};return e}),define("j.Point",[],function(){var e=function(e){"object"!=typeof e&&(e={}),this.x=0|(e.x||0),this.y=0|(e.y||0)};return e}),define("j.viewport",["j.world","j.Point","j.Vector2"],function(e,t,n){var i=function(){};return i.prototype.init=function(e){this.width=e.width,this.height=e.height},i.prototype.convertPosition=function(n){return new t({x:n.x*e.unitSize,y:this.height-n.y*e.unitSize})},i.prototype.convertScreenPosition=function(t){return new n({x:t.x/e.unitSize,y:Math.abs((t.y-this.height)/e.unitSize)})},i.prototype.convertPoint=function(n){return new t({x:n.x*e.unitSize,y:n.y*e.unitSize})},i.prototype.convertUnit=function(t){return t*e.unitSize},new i}),define("j.units",["j.camera","j.viewport","j.Point"],function(e,t,n){var i=function(){};return i.prototype.sizeConversion=function(e){return t.convertUnit(e)},i.prototype.pointSizeConversion=function(e){return new n({x:this.sizeConversion(e.x),y:this.sizeConversion(e.y)})},i.prototype.worldToScreen=function(n){var i=e.convertPosition(n),o=t.convertPosition(i);return o},i.prototype.screenToCamera=function(e){var n=t.convertScreenPosition(e);return n},i.prototype.screenToWorld=function(n){var i=t.convertScreenPosition(n),o=e.convertLocalPosition(i);return o},new i}),define("j.rendering",["j.camera","j.viewport","j.units","j.canvas"],function(e,t,n,i){var o=function(){};return o.prototype.drawCircle=function(e){if("object"==typeof e){this.prepareCanvas(e.ctx);var t=n.sizeConversion(e.radius),o=n.worldToScreen(e.center);i.ctx.translate(o.x,o.y),this.rotateCanvas(e.angle),i.ctx.beginPath(),i.ctx.arc(0,0,t,0,2*Math.PI,!0),i.ctx.closePath(),i.ctx.fill(),e.stroke&&i.ctx.stroke(),e.gizmo&&this.drawGizmo(),this.endCanvas()}},o.prototype.drawBox=function(e){if("object"==typeof e){this.prepareCanvas(e.ctx);var t=n.worldToScreen(e.center),o=n.pointSizeConversion(e.start),r=n.pointSizeConversion(e.end);i.ctx.translate(t.x,t.y),this.rotateCanvas(e.angle),i.ctx.fillRect(o.x,o.y,r.x,r.y),e.stroke&&i.ctx.strokeRect(o.x,o.y,r.x,r.y),e.gizmo&&this.drawGizmo(),this.endCanvas()}},o.prototype.drawGizmo=function(){var e={x:0,y:0};i.ctx.lineWidth=2,i.ctx.strokeStyle="blue",i.ctx.beginPath(),i.ctx.moveTo(e.x,e.y),i.ctx.lineTo(e.x+20,e.y),i.ctx.closePath(),i.ctx.stroke(),i.ctx.beginPath(),i.ctx.strokeStyle="green",i.ctx.moveTo(e.x,e.y),i.ctx.lineTo(e.x,e.y-20),i.ctx.closePath(),i.ctx.stroke()},o.prototype.rotateCanvas=function(e){"number"==typeof e&&0!==e&&i.ctx.rotate(e)},o.prototype.prepareCanvas=function(e){if(i.ctx.save(),"object"==typeof e)for(var t in e)i.ctx[t]=e[t]},o.prototype.endCanvas=function(){i.ctx.restore()},new o}),define("j.renderingSystem",["j.System","j.canvas","j.camera","j.units","j.config","j.rendering","j.Shapes"],function(e,t,n,i,o,r,s){var a=new e({usedComponents:["renderer"],executeInEditMode:!0});return a.render=function(e,t){var n=e.getComponentForEntity("renderer",t._id),i={ctx:{fillStyle:n.color},angle:t.transform.angle,gizmo:o.debug};switch(n.shape){case s.CIRCLE:_.extend(i,{center:t.transform.position.add(n.pivot).add(n.properties.center),radius:n.properties.radius}),r.drawCircle(i);break;case s.BOX:_.extend(i,{center:t.transform.position.add(n.pivot),start:n.properties.start,end:n.properties.end}),r.drawBox(i)}},a}),define("j.circlecircle",[],function(){var e=function(e,t){return Math.abs(t.center.sub(e.center).length())<=e.radius+t.radius?!0:!1};return e}),define("j.Collision",[],function(){var e=function(e,t){this.rigidbody=e,this.collided=t};return e}),define("j.physics",["j.aabb","j.circlecircle","j.Shapes","j.Rectangle","j.Circle","j.time","j.world","j.Collision","j.Vector2"],function(e,t,n,i,o,r,s,a,u){var c=function(){};return c.prototype.applyForce=function(e,t){e.fixed||(e.forces=e.forces.add(t))},c.prototype.applyImpulse=function(e,t){e.fixed||(e.impulses=e.impulses.add(t))},c.prototype.resolveCollision=function(e){e.velocity=e.velocity.scale(-e.bouncy),this.computePosition(e)},c.prototype.computeForces=function(e){e.acceleration=e.forces.scale(1/e.mass),e.acceleration=e.acceleration.add(e.impulses.scale(1/e.mass).scale(r.deltaTime)),e.velocity=e.velocity.add(e.impulses.scale(1/e.mass))},c.prototype.computeVelocity=function(e){e.velocity=e.velocity.add(e.acceleration.scale(r.deltaTime/2))},c.prototype.computePosition=function(e){e.direction=e.velocity.normalize(),e.futurePosition=e.lastPosition.add(e.velocity.scale(r.deltaTime))},c.prototype.processCollisions=function(e,t,n,i,o){for(var r=["x","y"],s=0;s<r.length;s++){var a=r[s];this.nextPositionAxis(t,a);for(var u=this.computeCollisions(t,t.nextPosition,n),c=!1,l={},d=0;d<u.length;d++){var p=u[d],f=this.processCollision(e,t,p,a,i);(2===f||1===f)&&(c=!0),l[p._id]=!0}for(var h in t.collidingWith)l[h]||(o(e,t,h),delete t.collidingWith[h]);_.extend(t.collidingWith,l),this.applyFriction(t,r[(s+1)%2],c)}},c.prototype.processCollision=function(e,t,n,i,o){return t.collidingWith[n._id]?0:(o(e,t,n),t.ignoreCollision?(t.ignoreCollision=!1,1):(this.applyImpulse(n,t.velocity.scale(t.mass)),this.answerCollisionAxis(t,i),2))},c.prototype.nextPositionAxis=function(e,t){e.nextPosition[t]=e.futurePosition[t]},c.prototype.answerCollisionAxis=function(e,t){e.nextPosition[t]=e.lastPosition[t],e.velocity[t]=e.velocity[t]*-e.bouncy},c.prototype.applyFriction=function(e,t,n){e.velocity[t]*=n?e.friction:e.airFriction},c.prototype.computeCollisions=function(e,t,n){return this.checkCollision(t,e,n)},c.prototype.checkWorldBoundaries=function(e){switch(e.shape){case n.BOX:if(e.nextPosition.y+e.properties.end.y>s.boundaries.end.y||e.nextPosition.y+e.properties.start.y<s.boundaries.start.y||e.nextPosition.x+e.properties.end.x>s.boundaries.end.x||e.nextPosition.x+e.properties.start.x<s.boundaries.start.x)return!0;break;case n.CIRCLE:var t=e.nextPosition.add(e.direction.scale(e.properties.radius));if(t.y>s.boundaries.end.y||t.y<s.boundaries.start.y||t.x>s.boundaries.end.x||t.x<s.boundaries.start.x)return!0}},c.prototype.checkCollision=function(e,t,i){var o=[];for(var r in i){var s=i[r].rigidbody,a=i[r].entity.transform.position;if(t._id!==s._id){var u;t.shape===n.CIRCLE&&s.shape===n.CIRCLE?u=this.circleCircle(t,s,e,a):t.shape===n.BOX&&s.shape===n.BOX?u=this.boxBox(t,s,e,a):(t.shape===n.BOX&&s.shape===n.CIRCLE||t.shape===n.CIRCLE&&s.shape===n.BOX)&&(u=this.boxCircle(t,s,e,a)),u&&o.push(s)}}return o},c.prototype.circleCircle=function(e,n,i,r){var s=new o({center:e.properties.center.add(i),radius:e.properties.radius}),a=new o({center:n.properties.center.add(r),radius:n.properties.radius});return t(s,a)?!0:!1},c.prototype.boxBox=function(t,n,o,r){var s=new i({start:t.properties.start.add(o),end:t.properties.end}),a=new i({start:n.properties.start.add(r),end:n.properties.end});return e(s,a)?!0:!1},c.prototype.boxCircle=function(t,o,r,s){var a,c,l,d,p=t.shape===n.BOX?!0:!1;p?(c=t,d=r,a=o,l=s):(c=o,d=s,a=t,l=r);var f=new i({start:c.properties.start.add(d),end:c.properties.end}),h=new i({start:a.properties.center.add(l).add(new u(-a.properties.radius,-a.properties.radius)),end:new u(2*a.properties.radius,2*a.properties.radius)});return e(f,h)?!0:!1},c.prototype.pointBox=function(e,t){return e.x>t.start.x&&e.x<t.start.x+t.end.x&&e.y>t.start.y&&e.y<t.start.y+t.end.y?!0:!1},c.prototype.pointCircle=function(e,t){return Math.abs(t.center.sub(e).length())<=t.radius?!0:!1},new c}),define("j.physicsSystem",["j.System","j.canvas","j.Shapes","j.world","j.time","j.units","j.config","j.Vector2","underscore","j.aabb","j.Rectangle","j.rendering","j.physics","j.Collision","j.Circle","j.Rigidbody"],function(e,t,n,i,o,r,s,a,u,c,l,d,p,f){var h=new e({usedComponents:["rigidbody"],globalSystem:!0,executeInEditMode:["postRender"]});return h.start=function(){},h.update=function(e){function t(t,n,i){e.entityEvent("onCollisionEnter",t,new f(n,i))}function n(t,n,i){e.entityEvent("onCollisionExit",t,new f(n,e.getComponentValue("rigidbody",i)))}for(var o=e.getEntitiesForComponents(["rigidbody"]),r=e.getEntitiesWithComponents(["rigidbody"]),s=0;s<o.length;s++){var u=o[s],c=e.getComponentForEntity("rigidbody",u._id);c.fixed||(c.lastPosition=new a(u.transform.position),c.nextPosition=new a(u.transform.position),p.applyForce(c,new a(0,-i.gravity*c.mass)),p.computeForces(c),p.computeVelocity(c),p.computePosition(c),p.processCollisions(u,c,r,t,n),u.transform.position=new a(c.nextPosition),p.computeVelocity(c),c.forces=new a(0,0),c.impulses=new a(0,0),c.ignoreCollision=!1)}},h.postRender=function(e){if(s.debug)for(var t=e.getEntitiesForComponents(["rigidbody"]),i=0;i<t.length;i++){var o=t[i],r=e.getComponentForEntity("rigidbody",o._id),a={fillStyle:"rgba(0, 255, 0, 0.1)",strokeStyle:"rgba(0, 255, 0, 0.5)",lineWidth:2};switch(r.shape){case n.CIRCLE:d.drawCircle({ctx:a,angle:0,radius:r.properties.radius,stroke:!0,center:o.transform.position});break;case n.BOX:d.drawBox({ctx:a,angle:0,center:o.transform.position,start:r.properties.start,stroke:!0,end:r.properties.end})}}},h}),define("j.screenSystem",["j.System","j.canvas","j.camera","j.world","j.config"],function(e,t,n,i,o){var r=new e({masterSystem:!0,executeInEditMode:!0});return r.preRender=function(){if(t.ctx.clearRect(0,0,n.box.end.x*i.unitSize,n.box.end.y*i.unitSize),o.debug){t.ctx.lineWidth=1,t.ctx.strokeStyle="rgba(0, 0, 0, 0.3)";for(var e=Math.abs(1-n.box.start.x%1);e<n.box.end.x;e++)t.ctx.beginPath(),t.ctx.moveTo(e*i.unitSize,0),t.ctx.lineTo(e*i.unitSize,n.box.end.y*i.unitSize),t.ctx.closePath(),t.ctx.stroke();for(var r=Math.abs(1-n.box.start.y%1);r<n.box.end.y;r++)t.ctx.beginPath(),t.ctx.moveTo(0,r*i.unitSize),t.ctx.lineTo(n.box.end.x*i.unitSize,r*i.unitSize),t.ctx.closePath(),t.ctx.stroke()}},r}),define("j.MouseButtons",[],function(){var e={LEFT:1,MIDDLE:2,RIGHT:3};return e}),define("j.GameKey",["j.time"],function(e){var t=function(){this.clickTimer=.4,this.pushed=!1,this.justPushed=!1,this.justUp=!1,this.lastAction=!1,this.justClicked=!0,this.lastClick=e.time};return t.prototype.push=function(){this.pushed=!0,"push"!==this.lastAction&&(this.justPushed=!0,this.lastClick=e.time),this.lastAction="push"},t.prototype.release=function(){this.pushed=!1,"release"!==this.lastAction&&(this.justUp=!0,e.time-this.lastClick<this.clickTimer&&(this.justClicked=!0)),this.lastAction="release"},t.prototype.postInput=function(){this.justPushed=!1,this.justUp=!1,this.justClicked=!1},t}),define("j.mouse",["j.Point","j.Vector2","j.units","j.MouseButtons","j.GameKey"],function(e,t,n,i,o){var r=function(){this.buttons=[],this.screenPosition=new e,this.worldPosition=new t,this.cameraPosition=new t,this.deltaPosition=new t,this.buttons[i.LEFT]=new o,this.buttons[i.RIGHT]=new o,this.buttons[i.MIDDLE]=new o};return r.prototype.getButton=function(e){return this.buttons[e].pushed},r.prototype.getButtonDown=function(e){return this.buttons[e].justPushed},r.prototype.getButtonUp=function(e){return this.buttons[e].justUp},r.prototype.getClick=function(e){return this.buttons[e].justClicked},r.prototype.updatePosition=function(i){this.lastScreenPosition=new e(this.screenPosition),this.lastWorldPosition=new t(this.worldPosition),this.lastCameraPosition=new t(this.cameraPosition),this.screenPosition=new e(i),this.worldPosition=n.screenToWorld(i),this.cameraPosition=n.screenToCamera(i),this.deltaPosition=this.worldPosition.sub(this.lastWorldPosition)},r.prototype.buttonEvent=function(e,t){"up"===e?this.buttons[t].release():this.buttons[t].push()},new r}),define("j.mouseSystem",["j.System","j.MouseButtons","j.physics","j.Shapes","j.Circle","j.Vector2","j.Rectangle","j.mouse"],function(e,t,n,i,o,r,s,a){var u=new e({usedComponents:["renderer"],masterSystem:!0,executeInEditMode:!0});return u.inputs=function(e){for(var t=1;4>t;t++)a.getButtonDown(t)&&this.action(e,t,"down"),a.getButton(t)&&this.action(e,t,"button"),a.getButtonUp(t)&&this.action(e,t,"up"),a.getClick(t)&&this.action(e,t,"click")},u.action=function(e,t,u){for(var c=a.worldPosition,l=e.getEntitiesForComponents(["renderer"]),d=!1,p=0;p<l.length;p++){var f=l[p],h=e.getComponentForEntity("renderer",f._id),m=!1;switch(h.shape){case i.CIRCLE:m=n.pointCircle(c,new o({radius:h.radius,center:new r(f.transform.position.add(h.properties.center))}));break;case i.BOX:m=n.pointBox(c,new s({start:f.transform.position.add(h.properties.start),end:h.properties.end}))}m&&(d=!0,e.entityEvent(u,f))}d||e.entityEvent(u,!1)},u}),define("j.GamepadButtons",[],function(){var e={A:0,B:1,X:2,Y:3,SELECT:4,START:5,LB:6,RB:7,L3:8,R3:9,UP:10,RIGHT:11,DOWN:12,LEFT:13};return e}),define("j.KeyboardButtons",[],function(){var e={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ENTER:13,BACK:8,ALT:18};return e}),define("j.ButtonsMapping",["j.GamepadButtons","j.KeyboardButtons"],function(e,t){var n={FORWARD:[e.UP,t.UP],LEFT:[e.LEFT,t.LEFT],RIGHT:[e.RIGHT,t.RIGHT],BACKWARD:[e.DOWN,t.DOWN],JUMP:[e.A,t.SPACE]};return n}),define("j.inputs",["j.ButtonsMapping","j.canvas","j.GameKey","j.mouse"],function(e,t,n,i){var o=function(){this.keys={},this.mouse=i};return o.prototype.getButton=function(e){return"object"==typeof this.keys[e]?this.keys[e].pushed:!1},o.prototype.getButtonDown=function(e){return"object"==typeof this.keys[e]?this.keys[e].justPushed:!1},o.prototype.getButtonUp=function(e){return"object"==typeof this.keys[e]?this.keys[e].justUp:!1},o.prototype.postInputs=function(){for(var e in this.keys)this.keys[e].postInput();for(var t=1;4>t;t++)i.buttons[t].postInput()},o.prototype.onDown=function(e){var t=e.which||e.button;return i.buttonEvent("down",t),e.stopPropagation(),e.cancelBubble=!0,e.preventDefault(),!1},o.prototype.onUp=function(e){var t=e.which||e.button;i.buttonEvent("up",t)},o.prototype.onMove=function(e){i.updatePosition(e)},o.prototype.init=function(){for(var i in e)this.keys[i]=new n(e[i]);var o=this;t.container.on("mousedown",function(e){o.onDown(e)}),t.container.on("contextmenu",function(){return!1}),t.bindMouseMove("mousemove",function(e){o.onMove(e)}),$(window).on("mouseup",function(e){o.onUp(e)}),$(window).on("keydown",function(t){var n=t.keyCode||t.which;for(var i in e)e[i][1]===n&&o.keys[i].push();return t.preventDefault(),!1}),$(window).on("keyup",function(t){var n=t.keyCode||t.which;for(var i in e)e[i][1]===n&&o.keys[i].release();return t.preventDefault(),!1})},new o}),define("j.editorSystem",["j.System","j.inputs","j.MouseButtons","j.Vector2","j.editGui","j.ButtonsMapping","j.camera","j.time"],function(e,t,n,i,o,r,s,a){var u=-1,c=3,l=new e({masterSystem:!0,executeInEditMode:!0,onlyEditMode:!0});return l.down=function(e,t){if(t!==!1&&t._id!==u._id){u=t;var n=e.getEntityWithComponents(u._id);o.propertiesGui.create({entity:n});for(var i in n)"function"==typeof n[i].getProperties&&n[i].getProperties(o.propertiesGui.gui.gui)}else o.propertiesGui.create({entity:!1}),u=-1},l.inputs=function(){-1!==u&&t.mouse.getButton(n.LEFT)&&(u.transform.position=new i(t.mouse.worldPosition));var e=new i(0,0);t.getButton("LEFT")&&(console.log("coucou"),e.x=-1),t.getButton("RIGHT")&&(e.x=1),t.getButton("FORWARD")&&(e.y=1),t.getButton("BACKWARD")&&(e.y=-1);var o=s.position.add(e.scale(c*a.deltaTime));s.setPosition(o)},l}),define("j.defaultSystems",["j.renderingSystem","j.physicsSystem","j.screenSystem","j.mouseSystem","j.editorSystem"],function(e,t,n,i,o){var r={"j.screen":n,"j.rendering":e,"j.physics":t,"j.mouseSystem":i,"j.editorSystem":o};return r}),define("j.defaultConfig",["j.RenderingModes"],function(e){var t={debug:!0,screen:{mainContainer:"#gameContainer",renderingMode:e.EXTEND,width:600,height:400},engine:{debug:!0,editing:!0},world:{unitSize:50,boundaries:{start:{x:0,y:0},end:{x:12,y:8}}},camera:{distance:1,width:12,height:8,x:0,y:0}};return t}),define("j.initJage",["j.componentTypes","j.systems","j.defaultComponents","j.defaultSystems","j.defaultConfig","underscore","j.canvas","j.emptyScene","j.sceneManager","j.viewport","j.camera","j.world","j.config","j.inputs"],function(e,t,n,i,o,r,s,a,u,c,l,d,p,f){function h(o,r){u.registerScene("empty",a),p.init(o);for(var h in n)e.registerComponent(h,n[h]);for(var m in i)t.registerSystem(m,i[m]);d.init(p.world),s.init(p.screen),f.init(),c.init(p.screen),l.init(p.camera),u.loadScene("empty",function(){"function"==typeof r&&r()})}return p.init(o),h}),define("j.pageVisibility",[],function(){var e,t;"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");var n=function(){this.onHides=[],this.onVisibles=[];var n=this;document.addEventListener(t,function(){document[e]?n.hidden():n.visible()},!1)};return n.prototype.onHide=function(e){"function"==typeof e&&this.onHides.push(e)},n.prototype.onVisible=function(e){"function"==typeof e&&this.onVisibles.push(e)},n.prototype.hidden=function(){for(var e=0;e<this.onHides.length;e++)this.onHides[e]()},n.prototype.visible=function(){for(var e=0;e<this.onVisibles.length;e++)this.onVisibles[e]()},new n}),define("j.gameloop",["j.GameStates","j.sceneManager","j.requestAnimFrame","j.initJage","j.currentScene","j.time","jquery","j.config","dat.gui","j.camera","j.inputs","j.systems","j.pageVisibility","j.editGui"],function(e,t,n,i,o,r,s,a,u,c,l,d,p,f){function h(){N===e.RUNNING&&(m(),g(),l.postInputs(),y(),r.preUpdate(),v(),b(),x(),r.postUpdate(),_(),w(),C()),n(h)}function m(){t.activeScene.launchEV("preInputs")}function g(){t.activeScene.launchEV("inputs")}function y(){t.activeScene.launchEV("postInputs")}function v(){t.activeScene.launchEV("preUpdate")}function b(){t.activeScene.launchEV("update")}function x(){t.activeScene.launchEV("postUpdate")}function _(){t.activeScene.launchEV("preRender")}function w(){t.activeScene.launchEV("render")}function C(){t.activeScene.launchEV("postRender")}function E(n,i){N=e.LOADINGSCENE,t.changeScene(n,function(){"function"==typeof i&&(N=e.RUNNING,i())})}function j(t,n){i(t,function(){h(),N=e.LOADING,S(t,n)})}function S(t,n){N=e.RUNNING,"function"==typeof n&&n()}function k(){N=e.PAUSED,r.pause(),t.activeScene.launchEV("pause")}function T(){N=e.RUNNING,r.resume(),t.activeScene.launchEV("resume")}function A(){N===e.PAUSED?T():k()}var N=e.STOPPED;if(s(window).on("keydown",function(e){80===e.keyCode&&A()}),p.onHide(function(){k()}),p.onVisible(function(){T()}),a.debug){var D={pause:function(){A()},toggleEdit:function(){N=e.LOADINGSCENE,t._toggleEdit(function(){N=e.RUNNING})}};f.config.add(r,"timeScale",-2,2),f.config.add(a,"debug"),f.config.add(D,"pause"),a.engine.editing&&f.config.add(D,"toggleEdit")}return{init:j,load:S,pause:k,resume:T,sceneManager:t,launchScene:E,config:a,time:r,camera:c,inputs:l,systems:d}}),define("j.main",["j.gameloop"],function(e){return e}),requirejs.config({baseUrl:"js",paths:{"j.main":"main","j.gameloop":"gameloop","j.sceneManager":"sceneManager","j.viewport":"viewport","j.camera":"camera","j.config":"config","j.canvas":"canvas","j.world":"world","j.time":"time","j.units":"units","j.inputs":"inputs","j.mouse":"mouse","j.Scene":"classes/Scene","j.Vector2":"classes/Vector2","j.Rectangle":"classes/Rectangle","j.Point":"classes/Point","j.GameKey":"classes/GameKey","j.ES":"ES/ES","j.System":"ES/System","j.Entity":"ES/Entity","j.Transform":"ES/Transform","j.systems":"ES/systems","j.componentTypes":"ES/componentTypes","j.defaultComponents":"defaultComponents","j.defaultSystems":"defaultSystems","j.currentScene":"currentScene","j.Renderer":"components/Renderer","j.Rigidbody":"components/Rigidbody","j.Inputable":"components/Inputable","j.Circle":"components/shapes/Circle","j.Box":"components/shapes/Box","j.renderingSystem":"systems/renderingSystem","j.physicsSystem":"systems/physicsSystem","j.screenSystem":"systems/screenSystem","j.mouseSystem":"systems/mouseSystem","j.editorSystem":"systems/editorSystem","j.GameStates":"enums/GameStates","j.Shapes":"enums/Shapes","j.KeyboardButtons":"enums/KeyboardButtons","j.GamepadButtons":"enums/GamepadButtons","j.ButtonsMapping":"enums/ButtonsMapping","j.RenderingModes":"enums/RenderingModes","j.MouseButtons":"enums/MouseButtons","j.CompProperties":"enums/CompProperties","j.propertiesGui":"editor/propertiesGui","j.PropertiesGui":"editor/PropertiesGui","j.initJage":"initJage","j.defaultConfig":"defaultConfig","j.emptyScene":"defaultScene","j.MouseButton":"MouseButton","j.requestAnimFrame":"utils/requestAnimFrame","j.pageVisibility":"utils/pageVisibility","j.editGui":"utils/editGui","j.rendering":"rendering/rendering","j.aabb":"physics/aabb","j.circlecircle":"physics/circlecircle","j.physics":"physics/physics","j.Collision":"physics/Collision",jquery:"../libs/jquery",underscore:"../libs/underscore","dat.gui":"../libs/dat.gui.min"},shim:{jquery:{exports:"$"},underscore:{exports:"_"},"dat.gui":{exports:"dat"}},urlArgs:"d="+Date.now()}),requirejs(["j.main"],function(e){return window.jage=e,e
}),define("../jage",function(){});
//# sourceMappingURL=jage.build.js.map